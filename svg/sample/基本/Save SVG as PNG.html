<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <title>B</title>
    <meta name="description" content="Using D3v4 to create a Bubble chart. Based on NYT visualization">
    <meta name="author" content="Jim Vallandingham">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <style>

    </style>
    <script src="lib/d3.js"></script>
    <script src="lib/topojson.v2.min.js"></script>
    <script src="lib/jquery.min.js"></script>
</head>

<body>
    <svg width="960" height="500"></svg>
    <!-- https://bl.ocks.org/mbostock/4062085 -->
    <script>
    $(function() {


        var canvas = document.querySelector("canvas"),
            context = canvas.getContext("2d");

        var image = new Image;
        image.src = "fallback.svg";
        image.onload = function() {
            context.drawImage(image, 0, 0);

            var a = document.createElement("a");
            a.download = "fallback.png";
            a.href = canvas.toDataURL("image/png");
            a.click();
        };



    })
    </script>
</body>

</html>