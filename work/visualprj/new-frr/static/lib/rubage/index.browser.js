/**
 * chimee v0.9.5
 * (c) 2017-2018 toxic-johann
 * Released under MIT
 */
(function(D,r){"object"===typeof exports&&"undefined"!==typeof module?module.exports=r():"function"===typeof define&&define.amd?define(r):D.Chimee=r()})(this,function(){function D(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a["default"]:a}function r(a,b){return b={exports:{}},a(b,b.exports),b.exports}function nh(a){var b,c;this.promise=new a(function(a,e){if(void 0!==b||void 0!==c)throw TypeError("Bad Promise constructor");b=a;c=e});this.resolve=Na(b);this.reject=Na(c)}function Oa(a){return void 0===a||null===a}function A(a){return Array.isArray(a)}function l(a){return"function"===typeof a}function B(a){return Object(a)===a&&"[object Object]"===String(a)&&!l(a)&&!A(a)}function Pa(a){return"number"===typeof a}function J(a){return A(a)?0===a.length:B(a)?0===ta(a).length:!a}function oe(a){return a instanceof Event||(a&&a.originalEvent)instanceof Event}function u(a){return"string"===typeof a||a instanceof String}function N(a){return"boolean"===typeof a}function ob(a){return!!a&&("object"===("undefined"===typeof a?"undefined":F(a))||"function"===typeof a)&&"function"===typeof a.then}function qa(a){return Oa(a)||N(a)||u(a)||Pa(a)}function pe(a){return!!("object"===("undefined"===typeof Node?"undefined":F(Node))?a instanceof Node:a&&"object"===("undefined"===typeof a?"undefined":F(a))&&"number"===typeof a.nodeType&&"string"===typeof a.nodeName)}function Y(a){return!!("object"===("undefined"===typeof HTMLElement?"undefined":F(HTMLElement))?a instanceof HTMLElement:a&&"object"===("undefined"===typeof a?"undefined":F(a))&&null!==a&&1===a.nodeType&&"string"===typeof a.nodeName)}function ad(a,b){if(!pe(a)||!pe(b))return!1;for(;b.parentNode;)if(b=b.parentNode,b===a)return!0;return!1}function pb(a){return a instanceof Error}function qb(a,b){if(!u(a))throw new TypeError("Log's method only acccept string as argument, but not "+a+" in "+("undefined"===typeof a?"undefined":F(a)));if(!u(b))return"["+z.GLOBAL_TAG+"] \x3e "+a;a=z.FORCE_GLOBAL_TAG?z.GLOBAL_TAG:a||z.GLOBAL_TAG;return"["+a+"] \x3e "+b}function bd(a){if(qa(a))throw new TypeError("deepClone only accept non primitive type");return qe(a)}function Ea(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];if(2>b.length)throw Error("deepAssign accept two and more argument");for(a=b.length-1;-1<a;a--)if(qa(b[a]))throw new TypeError("deepAssign only accept non primitive type");var d=b.shift();b.forEach(function(b){return qe(b,d)});return d}function cb(a,b){return a.replace(/(^|[^a-zA-Z]+)([a-zA-Z])/g,function(a,d,e,f){return b||0!==f?e.toUpperCase():e.toLowerCase()})}function oh(a){return cb(a).replace(/([A-Z])/g,function(b){return"-"+b.toLowerCase()})}function db(a,b){return a.bind?a.bind(b):a.apply?function(){for(var c=arguments.length,d=Array(c),e=0;e<c;e++)d[e]=arguments[e];return a.apply(b,d)}:function(){for(var c=arguments.length,d=Array(c),e=0;e<c;e++)d[e]=arguments[e];return a.call.apply(a,[b].concat(E(d)))}}function ph(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},d=c.throwError,d=void 0===d?!1:d,c=c.backup;u(b)&&(b=b.split("."));if(!A(b))throw new TypeError("keys of getDeepProperty must be string or Array\x3cstring\x3e");for(var e=[],f=a,g=0,h=b.length;g<h;g++){var k=b[g];if(Oa(f)){if(d)throw Error("obj"+(0<e.length?"."+e.join("."):" itself")+" is "+f);return c}f=f[k];e.push(k)}return f}function re(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:function(b,a){return+b-+a};return ta(a).sort(b).reduce(function(b,d){return b.concat(a[d])},[])}function gc(a){for(var b=arguments.length,c=Array(1<b?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];return new O(function(b,d){(function h(e){if(e>=a.length)b();else{var f=l(a[e])?a[e].apply(a,E(c)):a[e];return!1===f?d("stop"):O.resolve(f).then(function(){return h(e+1)})["catch"](function(b){return d(b||"stop")})}})(0)})}function cd(a){for(var b=arguments.length,c=Array(1<b?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];return function f(b){return b>=a.length?!0:!1===(l(a[b])?a[b].apply(a,E(c)):a[b])?!1:f(++b)}(0)}function dd(a,b){var c=a.__evt_id;c||(Object.defineProperty(a,"__evt_id",{writable:!0,enumerable:!1,configurable:!0}),c=a.__evt_id=++hc.count);var c=c+"_"+b,d=hc[c];d||(d=hc[c]=[]);return d}function qh(a,b,c){var d=se(null);d.type=b;d.target=a;c&&ic(d,B(c)?c:{data:c});dd(a,b).forEach(function(b){(b[1]||b[0]).apply(a,[d])})}function ed(a,b,c){var d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:!1,e=arguments[4];l(d)&&!e&&(e=d,d=void 0);var f=[c,void 0,d];d&&!e&&(e=function(){jc(a,b,c,d);for(var e=arguments.length,f=Array(e),k=0;k<e;k++)f[k]=arguments[k];c.apply(a,f)});e&&(f[1]=e);dd(a,b).push(f)}function jc(a,b,c){var d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:!1,e=dd(a,b);if(c||d){var f=-1,g=void 0;e.find(function(b,a){if(!(c&&b[0]!==c||d&&!b[2]))return f=a,g=b[1],!0});-1!==f&&e.splice(f,1);return g}e.length=0}function fd(a,b,c){void 0===c?a.removeAttribute(b):a.setAttribute(b,c)}function te(a,b){if(b&&(b=b.trim())){var c=b.split(/\s+/);if(a.classList)c.forEach(function(b){return a.classList.add(b)});else{var d=" "+(a.className||"")+" ";c.forEach(function(b){-1===d.indexOf(" "+b+" ")&&(d+=" "+b)});a.className=d.trim()}}}function rh(a,b){if(b&&(b=b.trim())){var c=b.split(/\s+/);if(a.classList)c.forEach(function(b){return a.classList.remove(b)});else{var d=" "+a.className+" ";c.forEach(function(b){for(b=" "+b+" ";-1!==d.indexOf(b);)d=d.replace(b," ")});a.className=d.trim()}}}function R(a,b,c){var d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:!1,e=4<arguments.length&&void 0!==arguments[4]?arguments[4]:!1;void 0!==e&&!N(e)&&rb&&(e={passive:!0});d&&(d=jc(a,b+"_once",c))&&(c=d);a.removeEventListener(b,c,e)}function ra(a,b,c){var d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:!1,e=4<arguments.length&&void 0!==arguments[4]?arguments[4]:!1;void 0!==e&&!N(e)&&rb&&(e={passive:!0});if(d){var f=c;c=function(){return function(){for(var g=arguments.length,h=Array(g),k=0;k<g;k++)h[k]=arguments[k];f.apply(this,h);R(a,b,c,d,e)}}();ed(a,b+"_once",f,c)}a.addEventListener(b,c,e)}function sh(a,b,c,d){var e=4<arguments.length&&void 0!==arguments[4]?arguments[4]:!1;void 0!==e&&!N(e)&&rb&&(e={passive:!0});var f=function(c){var e=th(c.target||c.srcElement,a,!0),f=kc(b,a,!0),g=void 0;f.find?g=f.find(function(b){return e.find(function(a){return b===a})}):f.forEach(function(b){return!g&&e.forEach(function(a){g||b!==a||(g=a)})});g&&d.apply(g,arguments)};ed(a,c+"_delegate_"+b,d,f);a.addEventListener(c,f,e)}function uh(a,b,c,d){var e=4<arguments.length&&void 0!==arguments[4]?arguments[4]:!1;void 0!==e&&!N(e)&&rb&&(e={passive:!0});var f=jc(a,c+"_delegate_"+b,d);f&&a.removeEventListener(c,f,e)}function ue(a,b){return(a.currentStyle||document.defaultView.getComputedStyle(a,null))[b]||a.style[b]}function lc(a,b,c){if(B(b))for(var d in b)lc(a,d,b[d]);else a.style[b]=c}function kc(a){var b=arguments[2],c=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:document).querySelectorAll(a);return b?gd(c):c}function th(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,c=arguments[3],d=[];for(arguments[2]&&d.push(a);a&&a.parentNode!==b;)(a=a.parentNode)&&d.push(a);c&&d.push(b);return d}function Fa(a,b){return a.constructor===ve?a:new ve(a,b)}function y(a,b){return a.bind?a.bind(b):a.apply?function(){for(var c=arguments.length,d=Array(c),e=0;e<c;e++)d[e]=arguments[e];return a.apply(b,d)}:function(){for(var c=arguments.length,d=Array(c),e=0;e<c;e++)d[e]=arguments[e];return a.call.apply(a,[b].concat(E(d)))}}function sb(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},d=c.throwError,d=void 0===d?!1:d,c=c.backup;u(b)&&(b=b.split("."));if(!A(b))throw new TypeError("keys of getDeepProperty must be string or Array\x3cstring\x3e");for(var e=[],f=a,g=0,h=b.length;g<h;g++){var k=b[g];if(Oa(f)){if(d)throw Error("obj"+(0<e.length?"."+e.join("."):" itself")+" is "+f);return c}f=f[k];e.push(k)}return f}function mc(a){if(!a||!a.hasOwnProperty)return!1;for(var b=["value","initializer","get","set"],c=0,d=b.length;c<d;c++)if(a.hasOwnProperty(b[c]))return!0;return!1}function nc(a){return!!a&&(l(a.get)||l(a.set))&&N(a.configurable)&&N(a.enumerable)&&void 0===a.writable}function tb(a){return!!a&&a.hasOwnProperty("value")&&N(a.configurable)&&N(a.enumerable)&&N(a.writable)}function hd(a){return!!a&&l(a.initializer)&&N(a.configurable)&&N(a.enumerable)&&N(a.writable)}function vh(a){return function(b){T(this,a,{configurable:!0,writable:!0,enumerable:!0,value:b});return b}}function oc(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"You must pass me an array of function";if(!A(a)||1>a.length)throw new TypeError(b);if(1===a.length){if(!l(a[0]))throw new TypeError(b);return a[0]}return a.reduce(function(a,d){if(!l(d)||!l(a))throw new TypeError(b);return function(b){return y(d,this)(y(a,this)(b))}})}function eb(a){if(l(console.warn))return console.warn(a);console.log(a)}function we(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];if(!b.length)throw new TypeError("You must pass in decorators in compressMultipleDecorators");b.forEach(function(b){if(!l(b))throw new TypeError('Decorators must be a function, but not "'+b+'" in '+("undefined"===typeof b?"undefined":F(b)));});return 1===b.length?b[0]:function(a,c,f){return b.reduce(function(b,d){return d(a,c,b)},f)}}function H(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},b=a.get,c=a.set,a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},d=a.preGet,e=void 0===d?!1:d,a=a.preSet,f=void 0===a?!0:a;if(!(l(b)||l(c)||A(b)&&0<b.length||A(c)&&0<c.length))throw new TypeError("@accessor need a getter or setter. If you don't need to add setter/getter. You should remove @accessor");b=A(b)?oc(b,"@accessor only accept function or array of function as getter/setter"):b;c=A(c)?oc(c,"@accessor only accept function or array of function as getter/setter"):c;return function(a,d,k){var g=k||{};a=g.configurable;a=void 0===a?!0:a;var g=g.enumerable,g=void 0===g?!0:g,h=l(b),p=l(c),L=function(a){return h?y(b,this)(a):a},ub=function(b){return p?y(c,this)(b):b};if(nc(k)){var Qa=k.get,U=k.set,m=l(Qa),u=l(U);!m&&h&&eb("You are trying to set getter via @accessor on "+d+" without getter. That's not a good idea.");!u&&p&&eb("You are trying to set setter via @accessor on  "+d+" without setter. That's not a good idea.");return{get:m||h?function(){var b=this,a=y(L,this),c=function(){return m?y(Qa,b)():void 0};return(e?[a,c]:[c,a]).reduce(function(b,a){return a(b)},void 0)}:void 0,set:u||p?function(b){var a=this,c=y(ub,this),d=function(b){return u?y(U,a)(b):b};return(f?[c,d]:[d,c]).reduce(function(b,a){return a(b)},b)}:void 0,configurable:a,enumerable:g}}if(hd(k)){var wh=k.initializer,q=void 0,r=!1;return{get:function(){var b=y(L,this);if(r)return b(q);q=y(wh,this)();r=!0;return b(q)},set:function(b){var a=y(ub,this);q=f?a(b):b;r=!0;f||a(q);return q},configurable:a,enumerable:g}}var z=(k||{}).value;return{get:function(){return y(L,this)(z)},set:function(b){var a=y(ub,this);z=f?a(b):b;f||a(z);return z},configurable:a,enumerable:g}}}function Z(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];if(0===b.length)throw Error("@before accept at least one parameter. If you don't need to preprocess before your function, do not add @before decorators");if(2<b.length&&mc(b[2]))throw Error("You may use @before straightly, @before return decorators, you should call it before you set it as decorator.");for(a=b.length-1;-1<a;a--)if(!l(b[a]))throw new TypeError("@before only accept function parameter");return function(a,c,f){var d=f||{},e=d.value;a=d.configurable;f=d.enumerable;d=d.writable;if(!l(e))throw new TypeError('@before can only be used on function, please check the property "'+c+'" is a method or not.');return{value:function(){for(var a=this,c=arguments.length,d=Array(c),f=0;f<c;f++)d[f]=arguments[f];c=b.reduce(function(b,c){var d=y(c,a).apply(void 0,E(b));return void 0===d?b:A(d)?d:[d]},d);return y(e,this).apply(void 0,E(c))},configurable:a,enumerable:f,writable:d}}}function Ga(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];if(0===b.length)throw Error("@initialize accept at least one parameter. If you don't need to initialize your value, do not add @initialize.");if(2<b.length&&mc(b[2]))throw Error("You may use @initialize straightly, @initialize return decorators, you need to call it");var d=oc(b,"@initialize only accept function parameter");return function(b,a,c){if(void 0===c)return{value:y(d,b)(),configurable:!0,writable:!0,enumerable:!0};if(nc(c)){var e=!1;return H({get:function(b){return e?b:y(d,this)(b)},set:c.set?function(b){e=!0;return b}:void 0})(b,a,c)}if(hd(c)){var f=c.initializer;return{initializer:function(){return y(d,this)(y(f,this)())},configurable:c.configurable,writable:c.writable,enumerable:c.enumerable}}return{value:y(d,this)(c.value),writable:c.writable,configurable:c.configurable,enumerable:c.enumerable}}}function jd(a,b,c,d,e,f){var g=c.configurable;c=c.enumerable;var h=f.force;f=f.omit;var k=xh(d,e);if(void 0!==k){if(f)return;if(!h)throw Error('"'+b+'" is an existing property, if you want to override it, please set "force" true in @alias option.');if(!k.configurable)throw Error('property "'+b+'" is unconfigurable.');}yh(d,e,{get:function(){return a[b]},set:function(c){a[b]=c;return b},configurable:g,enumerable:c})}function V(a,b,c){2===arguments.length?u(a)&&(c=b,b=a,a=void 0):1===arguments.length&&(b=a,a=void 0);if(!u(b))throw new TypeError("@alias need a string as a key to find the porperty to set alias on");if(void 0!==a&&qa(a))throw new TypeError("If you want to use @alias to set alias on other instance, you must pass in a legal instance");var d=B(c)?c:{force:!1,omit:!1},e=d.force,f=d.omit;return function(c,d,k){function g(b,a,c){b=qa(b)?a:b;c=c.split(".");a=c.slice(-1);a=xe(a,1)[0];b=sb(b,c.slice(0,-1),{throwError:!0});if(qa(b))throw new TypeError("If you want to use @alias to set alias on other instance, you must pass in a legal instance");return{target:b,name:a}}k=k||{value:void 0,configurable:!0,writable:!0,enumerable:!0};if(hd(k))return Ga(function(c){var h=g(a,this,b);jd(this,d,k,h.target,h.name,{force:e,omit:f});return c})(c,d,k);if(nc(k)){var h=void 0,p=function(c){if(h)return c;var n=g(a,this,b);jd(this,d,k,n.target,n.name,{force:e,omit:f});h=!0;return c};return H({get:p,set:p})(c,d,k)}p=g(a,c,b);jd(c,d,k,p.target,p.name,{force:e,omit:f});return k}}function vb(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},c=b.requirement,b=b.customArgs,d=void 0===b?!1:b;return function(){for(var b=arguments.length,f=Array(1<b?b-1:0),g=1;g<b;g++)f[g-1]=arguments[g];var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},g=b.exclude,h=void 0===g?[]:g,g=b.include,k=void 0===g?[]:g,g=b.construct,n=void 0===g?!1:g,b=b.self,t=void 0===b?!1:b;if(!A(h))throw new TypeError("options.exclude must be an array");if(!A(k))throw new TypeError("options.include must be an array");return function(b){var e=l(b);if(!t&&!e)throw new TypeError("@"+a.name+"Class can only be used on class");if(t&&qa(b))throw new TypeError("@"+a.name+"Class must be used on non-primitive type value in 'self' mode");var g=t?b:b.prototype;if(Oa(g))throw Error("The prototype of the "+b.name+" is empty, please check it");var p=zh(g);pc(g).concat(k).forEach(function(b){var k=p[b];"constructor"===b&&!n||t&&e&&-1<["name","length","prototype"].indexOf(b)||-1<h.indexOf(b)||l(c)&&!1===c(g,b,k,{self:t})||Ah(g,b,(d?a.apply(void 0,E(f)):a)(g,b,k))})}}}function Bh(a,b){if("undefined"===typeof kd)throw Error("Using @autobind on "+b.name+"() requires WeakMap support due to its use of super."+b.name+"()");wb||(wb=new kd);!1===wb.has(a)&&wb.set(a,new kd);var c=wb.get(a);!1===c.has(b)&&c.set(b,y(b,a));return c.get(b)}function qc(a,b,c){if(1===arguments.length)return xb()(a);var d=c||{},e=d.value,d=d.configurable;if(!l(e))throw new TypeError('@autobind can only be used on functions, not "'+e+'" in '+("undefined"===typeof e?"undefined":F(e))+' on property "'+b+'"');var f=a.constructor;return{configurable:d,enumerable:!1,get:function(){var c=this,d=function(){for(var b=arguments.length,a=Array(b),d=0;d<b;d++)a[d]=arguments[d];return e.call.apply(e,[c].concat(E(a)))};if(this===a||this.constructor!==f&&Ra(this).constructor===f)return e;if(this.constructor!==f&&b in this.constructor.prototype)return Bh(this,e);T(this,b,{configurable:!0,writable:!0,enumerable:!1,value:d});return d},set:vh(b)}}function W(a,b,c){if(void 0===c)return eb("You are using @frozen on an undefined property. This property will become a frozen undefined forever, which is meaningless"),{value:void 0,writable:!1,enumerable:!1,configurable:!1};c.enumerable=!1;c.configurable=!1;if(nc(c)){var d=c.get;c.set=void 0;if(!l(d)){eb("You are using @frozen on one accessor descriptor without getter. This property will become a frozen undefined finally.Which maybe meaningless.");return}return{get:function(){var a=y(d,this)();Ch(this,b,{value:a,writable:!1,configurable:!1,enumerable:!1});return a},set:void 0,configurable:!1,enumerable:!1}}c.writable=!1;return c}function ye(a){var b=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).other;if(!l(a)&&!ob(a)&&!u(a))throw new TypeError("@waitUntil only accept Function, Promise or String");return function(c,d,e){c=e||{};var f=c.value;c=c.configurable;if(!l(f))throw new TypeError("@waituntil can only be used on function, but not "+f+' on property "'+d+'"');var g=!1,h=[],k=ob(a)?function(){return a}:l(a)?a:function(){var c=a.split("."),d=c.slice(-1),e=qa(b)?this:b;if(!g){var f=sb(e,c.slice(0,-1));if(Oa(f))return f;var k=Dh(f,d),Qa=function(b){if(!0===b)for(;0<h.length;)h[0](),h.shift();return b},k=mc(k)?H({set:Qa})(f,d,k):H({set:Qa})(f,d,{value:void 0,configurable:!0,enumerable:!0,writable:!0});Eh(f,d,k);g=!0}return sb(e,c)};return{value:function(){for(var b=this,a=arguments.length,c=Array(a),d=0;d<a;d++)c[d]=arguments[d];var e=y(f,this),a=y(k,this).apply(void 0,c);return ob(a)?O.resolve(a).then(function(){return y(f,b).apply(void 0,c)}):!0===a?y(f,this).apply(void 0,c):new O(function(b){h.push(function(){e.apply(void 0,c);b()})})},enumerable:!1,configurable:c,writable:!1}}}function ba(a,b,c){if(void 0===c)return{value:void 0,enumerable:!1,configurable:!0,writable:!0};c.enumerable=!1;return c}function ka(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},d=c.self,d=void 0===d?!1:d,c=c.omit,c=void 0===c?!1:c,e=l(b);if(e||A(b)){if(!l(a))throw new TypeError("If you want to decorator class, you must pass it a legal class");if(e)b(a);else for(var f=0,c=b.length;f<c;f++){d=b[f];if(!l(d))throw new TypeError("If you want to decorate an class, you must pass it function or array of function");d(a)}return a}if(!d&&!l(a))throw new TypeError("applyDecorators only accept class as first arguments. If you want to modify instance, you should set options.self true.");if(d&&qa(a))throw new TypeError("We can't apply docorators on a primitive value, even in self mode");if(!B(b))throw new TypeError("applyDecorators only accept object as second arguments");d=d?a:a.prototype;if(Oa(d))throw Error("The class muse have a prototype, please take a check");for(f in b){var e=b[f],g=A(e)?e:[e],e=void 0;try{e=we.apply(void 0,E(g))}catch(h){throw eb(h&&h.message),Error("The decorators set on props must be Function or Array of Function");}if((g=Fh(d,f))&&!g.configurable){if(!c)throw Error(f+" of "+d+" is unconfigurable");}else Gh(d,f,e(d,f,g))}return a}function rc(a,b,c){var d,e=c.diff,f=c.operationPrefix,g={},h=!1,k=new Proxy(a,{get:function(a,c,d){var k=a[c];if(A(a)&&-1<ze.indexOf(c))return function(){h=!0;y(k,d).apply(void 0,arguments);h=!1;b()};if(!0===g[c])return k;if(B(k)||A(k))return a=g[c]||rc(k,b,{diff:e,operationPrefix:f}),g[c]=a;g[c]=!0;return k},set:function(a,c,d){var k=a[c];d=B(d)||A(d)?rc(d,b,{diff:e,operationPrefix:f}):d;a[c]=d;g[c]=!0;if(h||e&&k===d)return!0;b();return!0},deleteProperty:function(a,c){delete a[c];delete g[c];if(h)return!0;b();return!0}});a=(d={},yb(d,f+"set",[Ga(function(b){return function(b,a){k[b]=a}}),ba]),yb(d,f+"del",[Ga(function(b){return function(b){delete k[b]}}),ba]),d);ka(k,a,{self:!0});return k}function sc(a,b,c){function d(a){var c=void 0;return a.reduce(function(a,d){a[d]=[H({set:function(b){c=this[d];return b}}),H({get:function(a){if(k[d])return a;(B(a)||A(a))&&sc(a,b,{operationPrefix:g,diff:h});k[d]=!0;return a},set:function(a){(B(a)||A(a))&&sc(a,b,{operationPrefix:g,diff:h});k[d]=!0;n||h&&c===a||b();return a}},{preSet:!1})];return a},{})}var e=this,f,g=c.operationPrefix,h=c.diff,k={},n=!1;c=d(pc(a));ka(a,c,{self:!0,omit:!0});A(a)&&(c=ze.reduce(function(c,e){c[e]=[Ga(function(c){c=l(c)?c:Array.prototype[e];return function(){var e=a.length;n=!0;y(c,a).apply(void 0,arguments);n=!1;if(e<a.length){var f=Array(a.length-e).fill(1).map(function(b,a){return(a+e).toString()}),f=d(f);ka(a,f,{self:!0,omit:!0})}b()}}),ba];return c},{}),ka(a,c,{self:!0}));c=(f={},yb(f,g+"set",[Ga(function(b){return function(c,f){var g=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},h=g.disable,g=(g=g.isNewVal)||-1===pc(a).indexOf(c);l(b)&&y(b,e)(c,f,{disable:!0,isNewVal:g});g&&(g=d([c]),ka(a,g,{self:!0,omit:!0}));h||(a[c]=f)}}),ba]),yb(f,g+"del",[Ga(function(c){return function(d){l(c)?y(c,e)(d):delete a[d];b()}}),ba]),f);ka(a,c,{self:!0});return a}function Hh(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];var a=B(b[b.length-1])?b[b.length-1]:{},d=a.deep,e=a.omit,f=a.other,c=a.operationPrefix,g=void 0===c?"__":c,c=a.diff,h=void 0===c?!0:c,k=a.proxy;"function"!==typeof Proxy&&(k=!1,eb("You browser do not support Proxy, we will fall back into observe mode."));if(!b.length)throw new TypeError("You must pass a function or a string to find the hanlder function.");if(void 0!==f&&qa(f))throw new TypeError("If you want us to trigger function on the other instance, you must pass in a legal instance");if(!u(g))throw new TypeError("operationPrefix must be an string");return function(a,c,p){var n=b.reduce(function(c,d,g){if(!u(d)&&!l(d)){if(!g||g!==b.length-1)throw new TypeError("You can only pass function or string as handler");return c}c.push(u(d)?function(b,c){var g=sb(f||a,d);if(l(g))return y(g,this)(b,c);if(!e)throw Error("You pass in a function for us to trigger, please ensure the property to be a function or set omit flag true");}:d);return c},[]),t=function(b,a){var c=this;n.forEach(function(d){return y(d,c)(b,a)})},m=!1,U=void 0,q=void 0,r=void 0;return we(H({set:function(b){var a=this;U=this[c];r=void 0;var e=function(){return y(t,a)(q,U)};return d&&(B(b)||A(b))?k?rc(b,e,{diff:h,operationPrefix:g}):sc(b,e,{operationPrefix:g,diff:h}):b},get:function(b){var a=this;if(r)return r;if(!m){m=!0;var c=function(){return y(t,a)(q,U)};if(d&&(B(b)||A(b))){if(k)return q=U=r=rc(b,c,{diff:h,operationPrefix:g});sc(b,c,{operationPrefix:g,diff:h})}q=U=b}return b}},{preSet:!0}),H({set:function(b){q=b;h&&U===b||y(t,this)(q,U);return U=b}},{preSet:!1}))(a,c,p)}}function zb(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},c=b.other,d=b.backup;if(!l(a)&&!u(a))throw new TypeError("@runnable only accept Function or String");return function(b,f,g){b=g||{};var e=b.value;b=b.configurable;if(!l(e))throw new TypeError("@runnable can only be used on method, but not "+e+' on property "'+f+'".');var k=l(a)?a:function(){var b=a.split("."),d=qa(c)?this:c;return sb(d,b)};d=l(d)?d:function(){};return{value:function(){return!0===y(k,this).apply(void 0,arguments)?y(e,this).apply(void 0,arguments):y(d,this).apply(void 0,arguments)},enumerable:!1,configurable:b,writable:!1}}}function Ae(a,b,c){if(void 0===c)return{value:void 0,enumerable:!0,configurable:!0,writable:!0};c.configurable=!0;return c}function Be(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];var d=u(b[0])?b.shift():"";b.unshift(function(b){return u(b)?b:d});return H({set:b,get:b})}function Ha(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];var d=N(b[0])?b.shift():!1;b.unshift(function(b){return N(b)?b:d});return H({set:b,get:b})}function ld(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];var d=Pa(b[0])?b.shift():0;b.unshift(function(b){return Pa(b)?b:d});return H({set:b,get:b})}function tc(a,b,c,d,e){var f={};Object.keys(d).forEach(function(b){f[b]=d[b]});f.enumerable=!!f.enumerable;f.configurable=!!f.configurable;if("value"in f||f.initializer)f.writable=!0;f=c.slice().reverse().reduce(function(c,d){return d(a,b,c)||c},f);e&&void 0!==f.initializer&&(f.value=f.initializer?f.initializer.call(e):void 0,f.initializer=void 0);void 0===f.initializer&&(Object.defineProperty(a,b,f),f=null);return f}function uc(a){return a.match(md)?(z.warn("bus",'Secondary Event "'+a+'" could not be call straightly by API.'),!1):!0}function nd(a,b){if(!u(a))throw new TypeError("key parameter must be String");if(!l(b))throw new TypeError("fn parameter must be Function");}function Ce(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];return 2<b.length?["set"].concat(b):2===b.length?-1<["video","container","wrapper","videoElement"].indexOf(b[0])?["get"].concat(b):["set","container"].concat(b):["get","container"].concat(b)}function Sa(a,b,c,d){c&&T(a,b,{enumerable:c.enumerable,configurable:c.configurable,writable:c.writable,value:c.initializer?c.initializer.call(d):void 0})}function Ta(a,b,c,d,e){var f={};Object.keys(d).forEach(function(b){f[b]=d[b]});f.enumerable=!!f.enumerable;f.configurable=!!f.configurable;if("value"in f||f.initializer)f.writable=!0;f=c.slice().reverse().reduce(function(c,d){return d(a,b,c)||c},f);e&&void 0!==f.initializer&&(f.value=f.initializer?f.initializer.call(e):void 0,f.initializer=void 0);void 0===f.initializer&&(Object.defineProperty(a,b,f),f=null);return f}function De(a){return u(a)?a:void 0}function Ia(a){return H({get:function(b){return this.dispatcher.videoConfigReady&&this.inited?this.dom.videoElement[a]:b},set:function(b){return this.dispatcher.videoConfigReady?this.dom.videoElement[a]=b:b}})}function od(a){a=B(a)?a:{set:a,get:a,isBoolean:!1};var b=a.set,c=a.get,d=a.isBoolean;return H({get:function(b){return this.dispatcher.videoConfigReady&&this.inited?this.dom.videoElement[c]:b},set:function(a){if(!this.dispatcher.videoConfigReady)return a;this.dom.setAttr("video",b,d?a?"":void 0:null===a?void 0:a);return a}},{preSet:!1})}function pd(a,b){return H({get:function(c){var d=this.dom.getAttr("video",a);return this.dispatcher.videoConfigReady&&this.inited?b?!!d:d:c},set:function(c){if(!this.dispatcher.videoConfigReady)return c;this.dom.setAttr("video",a,b?c||void 0:null===c?void 0:c);return c}})}function Ee(a){return H({get:function(b){if(!this.dispatcher.videoConfigReady||!this.inited)return b;b=this.dom.getAttr("video",a);var c=this.dom.videoElement[a];return!A(b)&&0<=b-Ih(b)+1&&Pa(c)?c:b||void 0},set:function(b){if(!this.dispatcher.videoConfigReady)return b;var c=void 0;void 0===b||Pa(b)?c=b:u(b)&&!Jh(parseFloat(b))&&(c=b);this.dom.setAttr("video",a,c);return c}})}function fa(a,b,c,d,e){var f={};Object.keys(d).forEach(function(b){f[b]=d[b]});f.enumerable=!!f.enumerable;f.configurable=!!f.configurable;if("value"in f||f.initializer)f.writable=!0;f=c.slice().reverse().reduce(function(c,d){return d(a,b,c)||c},f);e&&void 0!==f.initializer&&(f.value=f.initializer?f.initializer.call(e):void 0,f.initializer=void 0);void 0===f.initializer&&(Object.defineProperty(a,b,f),f=null);return f}function qd(a){z.warn("chimee","You are trying to obtain "+a+", we will return you the DOM node. It's not a good idea to handle this by yourself. If you have some requirement, you can tell use by https://github.com/Chimeejs/chimee/issues")}function rd(a,b,c){if(B(b))for(var d in b)rd(a,d,b[d]);else a.style[b]=c}function vc(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};B(b)&&(c=b);u(a)&&(b=a);c=c.keyOnly;c=void 0===c?!1:c;if(!wc)return c?"":void 0;Y(a)||(a=document);if(!u(b))throw Error("You must pass in a string as name, but not "+("undefined"===typeof b?"undefined":F(b))+".");for(var d=0;d<sd.length;d++){b=b.replace(sd[d][0],sd[d][1]);for(var e=0;e<Fe.length;e++){var f=0===e?b:Fe[e]+b.charAt(0).toUpperCase()+b.substr(1);if(void 0!==a[f])return c?f:a[f]}}return c?"":void 0}function xc(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},d=c.bubbles,d=void 0===d?!0:d,c=c.cancelable,c=void 0===c?!0:c,e=void 0;l(Event)?e=new Event(b,{bubbles:d,cancelable:c}):wc&&document.createEvent?(e=document.createEvent("HTMLEvents"),e.initEvent(b,!0,!0)):wc&&document.createEventObject&&(e=document.createEventObject(),e.eventType=b,e.eventName=b);if(!B(e)&&!oe(e))throw Error("We can't create an object on this browser, please report to author");if(a.dispatchEvent)a.dispatchEvent(e);else if(a.fireEvent)a.fireEvent("on"+e.eventType,e);else if(a[b])a[b]();else if(a["on"+b])a["on"+b]()}function yc(a,b,c,d,e){var f={};Object.keys(d).forEach(function(b){f[b]=d[b]});f.enumerable=!!f.enumerable;f.configurable=!!f.configurable;if("value"in f||f.initializer)f.writable=!0;f=c.slice().reverse().reduce(function(c,d){return d(a,b,c)||c},f);e&&void 0!==f.initializer&&(f.value=f.initializer?f.initializer.call(e):void 0,f.initializer=void 0);void 0===f.initializer&&(Object.defineProperty(a,b,f),f=null);return f}function Ua(a,b,c,d,e){var f={};Object.keys(d).forEach(function(b){f[b]=d[b]});f.enumerable=!!f.enumerable;f.configurable=!!f.configurable;if("value"in f||f.initializer)f.writable=!0;f=c.slice().reverse().reduce(function(c,d){return d(a,b,c)||c},f);e&&void 0!==f.initializer&&(f.value=f.initializer?f.initializer.call(e):void 0,f.initializer=void 0);void 0===f.initializer&&(Object.defineProperty(a,b,f),f=null);return f}function Ab(a){"video"===a&&(a="videoElement");if(!Y(this[a]))throw new TypeError('Your target "'+a+'" is not a legal HTMLElement');for(var b=arguments.length,c=Array(1<b?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];return[a].concat(c)}function zc(a,b,c){if(!u(b))throw new TypeError("to handle dom's attribute or style, your attr parameter must be string, but not "+b+" in "+("undefined"===typeof b?"undefined":F(b)));if(!u(a))throw new TypeError("to handle dom's attribute or style, your target parameter must be string, , but not "+a+" in "+("undefined"===typeof a?"undefined":F(a)));return[a,b,c]}function fb(a,b,c,d,e){var f={};Object.keys(d).forEach(function(b){f[b]=d[b]});f.enumerable=!!f.enumerable;f.configurable=!!f.configurable;if("value"in f||f.initializer)f.writable=!0;f=c.slice().reverse().reduce(function(c,d){return d(a,b,c)||c},f);e&&void 0!==f.initializer&&(f.value=f.initializer?f.initializer.call(e):void 0,f.initializer=void 0);void 0===f.initializer&&(Object.defineProperty(a,b,f),f=null);return f}function Ac(a){if(!u(a))throw Error("Plugin's name must be a string, but not \""+a+'" in '+("undefined"===typeof a?"undefined":F(a)));return cb(a)}function td(a,b,c,d){c&&T(a,b,{enumerable:c.enumerable,configurable:c.configurable,writable:c.writable,value:c.initializer?c.initializer.call(d):void 0})}function la(a,b,c,d,e){var f={};Object.keys(d).forEach(function(b){f[b]=d[b]});f.enumerable=!!f.enumerable;f.configurable=!!f.configurable;if("value"in f||f.initializer)f.writable=!0;f=c.slice().reverse().reduce(function(c,d){return d(a,b,c)||c},f);e&&void 0!==f.initializer&&(f.value=f.initializer?f.initializer.call(e):void 0,f.initializer=void 0);void 0===f.initializer&&(Object.defineProperty(a,b,f),f=null);return f}var Kh="undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},x=r(function(a){a=a.exports="undefined"!=typeof window&&Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=a)}),C=r(function(a){a=a.exports={version:"2.5.3"};"number"==typeof __e&&(__e=a)}),Na=function(a){if("function"!=typeof a)throw TypeError(a+" is not a function!");return a},S=function(a,b,c){Na(a);if(void 0===b)return a;switch(c){case 1:return function(c){return a.call(b,c)};case 2:return function(c,e){return a.call(b,c,e)};case 3:return function(c,e,f){return a.call(b,c,e,f)}}return function(){return a.apply(b,arguments)}},M=function(a){return"object"===typeof a?null!==a:"function"===typeof a},X=function(a){if(!M(a))throw TypeError(a+" is not an object!");return a},ua=function(a){try{return!!a()}catch(b){return!0}},ma=!ua(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),gb=x.document,Bc=M(gb)&&M(gb.createElement),Ge=!ma&&!ua(function(){return 7!=Object.defineProperty(Bc?gb.createElement("div"):{},"a",{get:function(){return 7}}).a}),Bb=function(a,b){if(!M(a))return a;var c,d;if(b&&"function"==typeof(c=a.toString)&&!M(d=c.call(a))||"function"==typeof(c=a.valueOf)&&!M(d=c.call(a))||!b&&"function"==typeof(c=a.toString)&&!M(d=c.call(a)))return d;throw TypeError("Can't convert object to primitive value");},Lh=Object.defineProperty,na={f:ma?Object.defineProperty:function(a,b,c){X(a);b=Bb(b,!0);X(c);if(Ge)try{return Lh(a,b,c)}catch(d){}if("get"in c||"set"in c)throw TypeError("Accessors not supported!");"value"in c&&(a[b]=c.value);return a}},Va=function(a,b){return{enumerable:!(a&1),configurable:!(a&2),writable:!(a&4),value:b}},va=ma?function(a,b,c){return na.f(a,b,Va(1,c))}:function(a,b,c){a[b]=c;return a},aa=function(a,b,c){var d=a&aa.F,e=a&aa.G,f=a&aa.S,g=a&aa.P,h=a&aa.B,k=a&aa.W,n=e?C:C[b]||(C[b]={}),t=n.prototype,f=e?x:f?x[b]:(x[b]||{}).prototype,p,L;e&&(c=b);for(p in c)b=!d&&f&&void 0!==f[p],b&&p in n||(L=b?f[p]:c[p],n[p]=e&&"function"!=typeof f[p]?c[p]:h&&b?S(L,x):k&&f[p]==L?function(b){var a=function(a,c,d){if(this instanceof b){switch(arguments.length){case 0:return new b;case 1:return new b(a);case 2:return new b(a,c)}return new b(a,c,d)}return b.apply(this,arguments)};a.prototype=b.prototype;return a}(L):g&&"function"==typeof L?S(Function.call,L):L,g&&((n.virtual||(n.virtual={}))[p]=L,a&aa.R&&t&&!t[p]&&va(t,p,L)))};aa.F=1;aa.G=2;aa.S=4;aa.P=8;aa.B=16;aa.W=32;aa.U=64;aa.R=128;var m=aa;m(m.S+m.F*!ma,"Object",{defineProperty:na.f});var Mh=C.Object,Nh=function(a,b,c){return Mh.defineProperty(a,b,c)},za=r(function(a){a.exports={"default":Nh,__esModule:!0}}),T=D(za),Oh={}.toString,Wa=function(a){return Oh.call(a).slice(8,-1)},ud=Object("z").propertyIsEnumerable(0)?Object:function(a){return"String"==Wa(a)?a.split(""):Object(a)},Aa=function(a){if(void 0==a)throw TypeError("Can't call method on  "+a);return a},oa=function(a){return ud(Aa(a))},Cb={}.propertyIsEnumerable,Ph={}.hasOwnProperty,I=function(a,b){return Ph.call(a,b)},He=Object.getOwnPropertyDescriptor,Db={f:ma?He:function(a,b){a=oa(a);b=Bb(b,!0);if(Ge)try{return He(a,b)}catch(c){}if(I(a,b))return Va(!Cb.call(a,b),a[b])}},Eb=function(a,b){var c=(C.Object||{})[a]||Object[a],d={};d[a]=b(c);m(m.S+m.F*ua(function(){c(1)}),"Object",d)},Qh=Db.f;Eb("getOwnPropertyDescriptor",function(){return function(a,b){return Qh(oa(a),b)}});var Rh=C.Object,Sh=function(a,b){return Rh.getOwnPropertyDescriptor(a,b)},Fb=r(function(a){a.exports={"default":Sh,__esModule:!0}}),q=D(Fb),Ie=x["__core-js_shared__"]||(x["__core-js_shared__"]={}),Gb=function(a){return Ie[a]||(Ie[a]={})},Th=0,Uh=Math.random(),Cc=function(a){return"Symbol(".concat(void 0===a?"":a,")_",(++Th+Uh).toString(36))},Je=Gb("keys"),vd=function(a){return Je[a]||(Je[a]=Cc(a))},Ke=vd("IE_PROTO"),Vh=Object.prototype,Le=Object.getPrototypeOf||function(a){a=Object(Aa(a));return I(a,Ke)?a[Ke]:"function"==typeof a.constructor&&a instanceof a.constructor?a.constructor.prototype:a instanceof Object?Vh:null};Eb("getPrototypeOf",function(){return function(a){return Le(Object(Aa(a)))}});var Wh=C.Object.getPrototypeOf,Hb=r(function(a){a.exports={"default":Wh,__esModule:!0}}),Ra=D(Hb),Xh=r(function(a,b){b.__esModule=!0;b["default"]=function(b,a){if(!(b instanceof a))throw new TypeError("Cannot call a class as a function");}}),ca=D(Xh),Yh=r(function(a,b){b.__esModule=!0;var c=za&&za.__esModule?za:{"default":za};b["default"]=function(){function b(b,a){for(var d=0;d<a.length;d++){var e=a[d];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);(0,c["default"])(b,e.key,e)}}return function(a,c,d){c&&b(a.prototype,c);d&&b(a,d);return a}}()}),da=D(Yh),Zh=Math.ceil,$h=Math.floor,wd=function(a){return isNaN(a=+a)?0:(0<a?$h:Zh)(a)},wa={},ai=Math.min,Dc=function(a){return 0<a?ai(wd(a),9007199254740991):0},bi=Math.max,ci=Math.min,di=function(a){return function(b,c,d){b=oa(b);var e=Dc(b.length);d=wd(d);d=0>d?bi(d+e,0):ci(d,e);if(a&&c!=c)for(;e>d;){if(c=b[d++],c!=c)return!0}else for(;e>d;d++)if((a||d in b)&&b[d]===c)return a||d||0;return!a&&-1}}(!1),ei=vd("IE_PROTO"),Me=function(a,b){var c=oa(a),d=0,e=[],f;for(f in c)f!=ei&&I(c,f)&&e.push(f);for(;b.length>d;)I(c,f=b[d++])&&(~di(e,f)||e.push(f));return e},Ec="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),Xa=Object.keys||function(a){return Me(a,Ec)},fi=ma?Object.defineProperties:function(a,b){X(a);for(var c=Xa(b),d=c.length,e=0,f;d>e;)na.f(a,f=c[e++],b[f]);return a},Ne=x.document,xd=Ne&&Ne.documentElement,gi=vd("IE_PROTO"),yd=function(){},Fc=function(){var a=Bc?gb.createElement("iframe"):{},b=Ec.length;a.style.display="none";xd.appendChild(a);a.src="javascript:";a=a.contentWindow.document;a.open();a.write("\x3cscript\x3edocument.F\x3dObject\x3c/script\x3e");a.close();for(Fc=a.F;b--;)delete Fc.prototype[Ec[b]];return Fc()},Ja=Object.create||function(a,b){var c;null!==a?(yd.prototype=X(a),c=new yd,yd.prototype=null,c[gi]=a):c=Fc();return void 0===b?c:fi(c,b)},Q=r(function(a){var b=Gb("wks"),c=x.Symbol,d="function"==typeof c;(a.exports=function(a){return b[a]||(b[a]=d&&c[a]||(d?c:Cc)("Symbol."+a))}).store=b}),hi=na.f,Oe=Q("toStringTag"),Ya=function(a,b,c){a&&!I(a=c?a:a.prototype,Oe)&&hi(a,Oe,{configurable:!0,value:b})},Pe={};va(Pe,Q("iterator"),function(){return this});var ii=function(a,b,c){a.prototype=Ja(Pe,{next:Va(1,c)});Ya(a,b+" Iterator")},zd=Q("iterator"),Gc=!([].keys&&"next"in[].keys()),ji=function(){return this},Ad=function(a,b,c,d,e,f,g){ii(c,b,d);d=function(b){return!Gc&&b in t?t[b]:function(){return new c(this,b)}};var h=b+" Iterator",k="values"==e,n=!1,t=a.prototype,p=t[zd]||t["@@iterator"]||e&&t[e],L=!Gc&&p||d(e),l=e?k?d("entries"):L:void 0,q="Array"==b?t.entries||p:p,U,r;q&&(a=Le(q.call(new a)),a!==Object.prototype&&a.next&&Ya(a,h,!0));k&&p&&"values"!==p.name&&(n=!0,L=function(){return p.call(this)});g&&(Gc||n||!t[zd])&&va(t,zd,L);wa[b]=L;wa[h]=ji;if(e)if(U={values:k?L:d("values"),keys:f?L:d("keys"),entries:l},g)for(r in U)r in t||va(t,r,U[r]);else m(m.P+m.F*(Gc||n),b,U);return U},ki=function(a){return function(b,c){var d=String(Aa(b)),e=wd(c),f=d.length,g,h;if(0>e||e>=f)return a?"":void 0;g=d.charCodeAt(e);return 55296>g||56319<g||e+1===f||56320>(h=d.charCodeAt(e+1))||57343<h?a?d.charAt(e):g:a?d.slice(e,e+2):(g-55296<<10)+(h-56320)+65536}}(!0);Ad(String,"String",function(a){this._t=String(a);this._i=0},function(){var a=this._t,b=this._i;if(b>=a.length)return{value:void 0,done:!0};a=ki(a,b);this._i+=a.length;return{value:a,done:!1}});var Ka=function(a,b){return{value:b,done:!!a}};Ad(Array,"Array",function(a,b){this._t=oa(a);this._i=0;this._k=b},function(){var a=this._t,b=this._k,c=this._i++;return!a||c>=a.length?(this._t=void 0,Ka(1)):"keys"==b?Ka(0,c):"values"==b?Ka(0,a[c]):Ka(0,[c,a[c]])},"values");wa.Arguments=wa.Array;for(var Qe=Q("toStringTag"),Re="CSSRuleList CSSStyleDeclaration CSSValueList ClientRectList DOMRectList DOMStringList DOMTokenList DataTransferItemList FileList HTMLAllCollection HTMLCollection HTMLFormElement HTMLSelectElement MediaList MimeTypeArray NamedNodeMap NodeList PaintRequestList Plugin PluginArray SVGLengthList SVGNumberList SVGPathSegList SVGPointList SVGStringList SVGTransformList SourceBufferList StyleSheetList TextTrackCueList TextTrackList TouchList".split(" "),Bd=0;Bd<Re.length;Bd++){var Cd=Re[Bd],Se=x[Cd],Dd=Se&&Se.prototype;Dd&&!Dd[Qe]&&va(Dd,Qe,Cd);wa[Cd]=wa.Array}var Ed={f:Q},li=Ed.f("iterator"),Ib=r(function(a){a.exports={"default":li,__esModule:!0}});D(Ib);var Za=r(function(a){var b=Cc("meta"),c=na.f,d=0,e=Object.isExtensible||function(){return!0},f=!ua(function(){return e(Object.preventExtensions({}))}),g=function(a){c(a,b,{value:{i:"O"+ ++d,w:{}}})},h=a.exports={KEY:b,NEED:!1,fastKey:function(a,c){if(!M(a))return"symbol"==typeof a?a:("string"==typeof a?"S":"P")+a;if(!I(a,b)){if(!e(a))return"F";if(!c)return"E";g(a)}return a[b].i},getWeak:function(a,c){if(!I(a,b)){if(!e(a))return!0;if(!c)return!1;g(a)}return a[b].w},onFreeze:function(a){f&&h.NEED&&e(a)&&!I(a,b)&&g(a);return a}}}),mi=na.f,Fd=function(a){var b=C.Symbol||(C.Symbol={});"_"==a.charAt(0)||a in b||mi(b,a,{value:Ed.f(a)})},Hc=Object.getOwnPropertySymbols,Gd=Array.isArray||function(a){return"Array"==Wa(a)},ni=Ec.concat("length","prototype"),Hd={f:Object.getOwnPropertyNames||function(a){return Me(a,ni)}},Te=Hd.f,oi={}.toString,Ue="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Id=function(a){var b;if(Ue&&"[object Window]"==oi.call(a))try{b=Te(a)}catch(c){b=Ue.slice()}else b=Te(oa(a));return b},pi=Za.KEY,Ve=Db.f,$a=na.f,We=Id,ga=x.Symbol,Ic=x.JSON,Jc=Ic&&Ic.stringify,ha=Q("_hidden"),Xe=Q("toPrimitive"),qi={}.propertyIsEnumerable,Jb=Gb("symbol-registry"),Ba=Gb("symbols"),Kb=Gb("op-symbols"),sa=Object.prototype,hb="function"==typeof ga,Jd=x.QObject,Kd=!Jd||!Jd.prototype||!Jd.prototype.findChild,Ld=ma&&ua(function(){return 7!=Ja($a({},"a",{get:function(){return $a(this,"a",{value:7}).a}})).a})?function(a,b,c){var d=Ve(sa,b);d&&delete sa[b];$a(a,b,c);d&&a!==sa&&$a(sa,b,d)}:$a,Ye=function(a){var b=Ba[a]=Ja(ga.prototype);b._k=a;return b},Md=hb&&"symbol"==typeof ga.iterator?function(a){return"symbol"==typeof a}:function(a){return a instanceof ga},Kc=function(a,b,c){a===sa&&Kc(Kb,b,c);X(a);b=Bb(b,!0);X(c);return I(Ba,b)?(c.enumerable?(I(a,ha)&&a[ha][b]&&(a[ha][b]=!1),c=Ja(c,{enumerable:Va(0,!1)})):(I(a,ha)||$a(a,ha,Va(1,{})),a[ha][b]=!0),Ld(a,b,c)):$a(a,b,c)},Ze=function(a,b){X(a);var c=b=oa(b),d=Xa(c),e=Hc;if(e)for(var e=e(c),f=Cb,g=0,h;e.length>g;)f.call(c,h=e[g++])&&d.push(h);c=0;h=d.length;for(var k;h>c;)Kc(a,k=d[c++],b[k]);return a},ri=function(a){var b=qi.call(this,a=Bb(a,!0));return this===sa&&I(Ba,a)&&!I(Kb,a)?!1:b||!I(this,a)||!I(Ba,a)||I(this,ha)&&this[ha][a]?b:!0},$e=function(a,b){a=oa(a);b=Bb(b,!0);if(a!==sa||!I(Ba,b)||I(Kb,b)){var c=Ve(a,b);!c||!I(Ba,b)||I(a,ha)&&a[ha][b]||(c.enumerable=!0);return c}},af=function(a){a=We(oa(a));for(var b=[],c=0,d;a.length>c;)I(Ba,d=a[c++])||d==ha||d==pi||b.push(d);return b},bf=function(a){var b=a===sa;a=We(b?Kb:oa(a));for(var c=[],d=0,e;a.length>d;)I(Ba,e=a[d++])&&(b?I(sa,e):1)&&c.push(Ba[e]);return c};hb||(ga=function(){if(this instanceof ga)throw TypeError("Symbol is not a constructor!");var a=Cc(0<arguments.length?arguments[0]:void 0),b=function(c){this===sa&&b.call(Kb,c);I(this,ha)&&I(this[ha],a)&&(this[ha][a]=!1);Ld(this,a,Va(1,c))};ma&&Kd&&Ld(sa,a,{configurable:!0,set:b});return Ye(a)},va(ga.prototype,"toString",function(){return this._k}),Db.f=$e,na.f=Kc,Hd.f=Id=af,Cb=ri,Hc=bf,Ed.f=function(a){return Ye(Q(a))});m(m.G+m.W+m.F*!hb,{Symbol:ga});for(var cf="hasInstance isConcatSpreadable iterator match replace search species split toPrimitive toStringTag unscopables".split(" "),df=0;cf.length>df;)Q(cf[df++]);for(var ef=Xa(Q.store),ff=0;ef.length>ff;)Fd(ef[ff++]);m(m.S+m.F*!hb,"Symbol",{"for":function(a){return I(Jb,a+="")?Jb[a]:Jb[a]=ga(a)},keyFor:function(a){if(!Md(a))throw TypeError(a+" is not a symbol!");for(var b in Jb)if(Jb[b]===a)return b},useSetter:function(){Kd=!0},useSimple:function(){Kd=!1}});m(m.S+m.F*!hb,"Object",{create:function(a,b){return void 0===b?Ja(a):Ze(Ja(a),b)},defineProperty:Kc,defineProperties:Ze,getOwnPropertyDescriptor:$e,getOwnPropertyNames:af,getOwnPropertySymbols:bf});Ic&&m(m.S+m.F*(!hb||ua(function(){var a=ga();return"[null]"!=Jc([a])||"{}"!=Jc({a:a})||"{}"!=Jc(Object(a))})),"JSON",{stringify:function(a){for(var b=[a],c=1,d;arguments.length>c;)b.push(arguments[c++]);d=c=b[1];if((M(c)||void 0!==a)&&!Md(a))return Gd(c)||(c=function(b,a){"function"==typeof d&&(a=d.call(this,b,a));if(!Md(a))return a}),b[1]=c,Jc.apply(Ic,b)}});ga.prototype[Xe]||va(ga.prototype,Xe,ga.prototype.valueOf);Ya(ga,"Symbol");Ya(Math,"Math",!0);Ya(x.JSON,"JSON",!0);Fd("asyncIterator");Fd("observable");var si=C.Symbol,Lb=r(function(a){a.exports={"default":si,__esModule:!0}});D(Lb);var ib=r(function(a,b){b.__esModule=!0;var c=Ib&&Ib.__esModule?Ib:{"default":Ib},d=Lb&&Lb.__esModule?Lb:{"default":Lb},e="function"===typeof d["default"]&&"symbol"===typeof c["default"]?function(b){return typeof b}:function(b){return b&&"function"===typeof d["default"]&&b.constructor===d["default"]&&b!==d["default"].prototype?"symbol":typeof b};b["default"]="function"===typeof d["default"]&&"symbol"===e(c["default"])?function(b){return"undefined"===typeof b?"undefined":e(b)}:function(b){return b&&"function"===typeof d["default"]&&b.constructor===d["default"]&&b!==d["default"].prototype?"symbol":"undefined"===typeof b?"undefined":e(b)}}),F=D(ib),ti=r(function(a,b){b.__esModule=!0;var c=ib&&ib.__esModule?ib:{"default":ib};b["default"]=function(b,a){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||"object"!==("undefined"===typeof a?"undefined":(0,c["default"])(a))&&"function"!==typeof a?b:a}}),Lc=D(ti),ui=r(function(a,b){b.__esModule=!0;var c=Hb&&Hb.__esModule?Hb:{"default":Hb},d=Fb&&Fb.__esModule?Fb:{"default":Fb};b["default"]=function f(b,a,k){null===b&&(b=Function.prototype);var g=(0,d["default"])(b,a);if(void 0===g){if(b=(0,c["default"])(b),null!==b)return f(b,a,k)}else{if("value"in g)return g.value;a=g.get;return void 0===a?void 0:a.call(k)}}}),gf=D(ui),vi=Object.setPrototypeOf||("__proto__"in{}?function(a,b,c){try{c=S(Function.call,Db.f(Object.prototype,"__proto__").set,2),c(a,[]),b=!(a instanceof Array)}catch(d){b=!0}return function(a,e){X(a);if(!M(e)&&null!==e)throw TypeError(e+": can't set as prototype!");b?a.__proto__=e:c(a,e);return a}}({},!1):void 0);m(m.S,"Object",{setPrototypeOf:vi});var wi=C.Object.setPrototypeOf,hf=r(function(a){a.exports={"default":wi,__esModule:!0}});D(hf);m(m.S,"Object",{create:Ja});var xi=C.Object,yi=function(a,b){return xi.create(a,b)},jf=r(function(a){a.exports={"default":yi,__esModule:!0}}),se=D(jf),zi=r(function(a,b){function c(b){return b&&b.__esModule?b:{"default":b}}b.__esModule=!0;var d=c(hf),e=c(jf),f=c(ib);b["default"]=function(b,a){if("function"!==typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function, not "+("undefined"===typeof a?"undefined":(0,f["default"])(a)));b.prototype=(0,e["default"])(a&&a.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}});a&&(d["default"]?(0,d["default"])(b,a):b.__proto__=a)}}),Mc=D(zi),Ai=Q("toStringTag"),Bi="Arguments"==Wa(function(){return arguments}()),Nc=function(a){var b,c;if(void 0===a)b="Undefined";else{var d;if(null===a)d="Null";else{a:{var e=a=Object(a);try{d=e[Ai];break a}catch(f){}d=void 0}d="string"==typeof(b=d)?b:Bi?Wa(a):"Object"==(c=Wa(a))&&"function"==typeof a.callee?"Arguments":c}b=d}return b},Ci=Q("iterator"),Di=C.isIterable=function(a){a=Object(a);return void 0!==a[Ci]||"@@iterator"in a||wa.hasOwnProperty(Nc(a))},Mb=r(function(a){a.exports={"default":Di,__esModule:!0}});D(Mb);var Ei=Q("iterator"),Nd=C.getIteratorMethod=function(a){if(void 0!=a)return a[Ei]||a["@@iterator"]||wa[Nc(a)]},Fi=C.getIterator=function(a){var b=Nd(a);if("function"!=typeof b)throw TypeError(a+" is not iterable!");return X(b.call(a))},Nb=r(function(a){a.exports={"default":Fi,__esModule:!0}});D(Nb);var Gi=r(function(a,b){b.__esModule=!0;var c=Mb&&Mb.__esModule?Mb:{"default":Mb},d=Nb&&Nb.__esModule?Nb:{"default":Nb};b["default"]=function(){return function(b,a){if(Array.isArray(b))return b;if((0,c["default"])(Object(b))){var e=[],f=!0,k=!1,n=void 0;try{for(var t=(0,d["default"])(b),p;!(f=(p=t.next()).done)&&(e.push(p.value),!a||e.length!==a);f=!0);}catch(L){k=!0,n=L}finally{try{if(!f&&t["return"])t["return"]()}finally{if(k)throw n;}}return e}throw new TypeError("Invalid attempt to destructure non-iterable instance");}}()}),xe=D(Gi),Hi=Cb,Ii=function(a){return function(b){b=oa(b);for(var c=Xa(b),d=c.length,e=0,f=[],g;d>e;)Hi.call(b,g=c[e++])&&f.push(a?[g,b[g]]:b[g]);return f}}(!0);m(m.S,"Object",{entries:function(a){return Ii(a)}});var Ji=C.Object.entries,Ki=r(function(a){a.exports={"default":Ji,__esModule:!0}}),Li=D(Ki),kf=function(a,b,c,d){try{return d?b(X(c)[0],c[1]):b(c)}catch(e){throw b=a["return"],void 0!==b&&X(b.call(a)),e;}},lf=Q("iterator"),mf=Array.prototype,Od=function(a,b,c){b in a?na.f(a,b,Va(0,c)):a[b]=c},Pd=Q("iterator"),nf=!1;try{[7][Pd]()["return"]=function(){nf=!0}}catch(a){}var of=function(a,b){if(!b&&!nf)return!1;var c=!1;try{var d=[7],e=d[Pd]();e.next=function(){return{done:c=!0}};d[Pd]=function(){return e};a(d)}catch(f){}return c};m(m.S+m.F*!of(function(a){}),"Array",{from:function(a){var b=Object(Aa(a)),c="function"==typeof this?this:Array,d=arguments.length,e=1<d?arguments[1]:void 0,f=void 0!==e,g=0,h=Nd(b);f&&(e=S(e,2<d?arguments[2]:void 0,2));if(void 0!=h&&(c!=Array||void 0===h||wa.Array!==h&&mf[lf]!==h))for(b=h.call(b),c=new c;!(d=b.next()).done;g++)Od(c,g,f?kf(b,e,[d.value,g],!0):d.value);else for(d=Dc(b.length),c=new c(d);d>g;g++)Od(c,g,f?e(b[g],g):b[g]);c.length=g;return c}});var Mi=C.Array.from,Ob=r(function(a){a.exports={"default":Mi,__esModule:!0}}),gd=D(Ob),Ni=r(function(a,b){b.__esModule=!0;var c=Ob&&Ob.__esModule?Ob:{"default":Ob};b["default"]=function(b){if(Array.isArray(b)){for(var a=0,d=Array(b.length);a<b.length;a++)d[a]=b[a];return d}return(0,c["default"])(b)}}),E=D(Ni);Eb("keys",function(){return function(a){return Xa(Object(Aa(a)))}});var Oi=C.Object.keys,Pi=r(function(a){a.exports={"default":Oi,__esModule:!0}}),ta=D(Pi),Oc=Object.assign,pf=!Oc||ua(function(){var a={},b={},c=Symbol();a[c]=7;"abcdefghijklmnopqrst".split("").forEach(function(a){b[a]=a});return 7!=Oc({},a)[c]||"abcdefghijklmnopqrst"!=Object.keys(Oc({},b)).join("")})?function(a,b){for(var c=Object(Aa(a)),d=arguments.length,e=1,f=Hc,g=Cb;d>e;)for(var h=ud(arguments[e++]),k=f?Xa(h).concat(f(h)):Xa(h),n=k.length,t=0,p;n>t;)g.call(h,p=k[t++])&&(c[p]=h[p]);return c}:Oc;m(m.S+m.F,"Object",{assign:pf});var Qi=C.Object.assign,Ri=r(function(a){a.exports={"default":Qi,__esModule:!0}}),ic=D(Ri),Pb=function(a,b,c,d){if(!(a instanceof b)||void 0!==d&&d in a)throw TypeError(c+": incorrect invocation!");return a},La=r(function(a){var b={},c={};a=a.exports=function(a,e,f,g,h){h=h?function(){return a}:Nd(a);f=S(f,g,e?2:1);g=0;var d,n;if("function"!=typeof h)throw TypeError(a+" is not iterable!");if(void 0===h||wa.Array!==h&&mf[lf]!==h)for(g=h.call(a);!(n=g.next()).done;){if(h=kf(g,f,n.value,e),h===b||h===c)return h}else for(d=Dc(a.length);d>g;g++)if(h=e?f(X(n=a[g])[0],n[1]):f(a[g]),h===b||h===c)return h};a.BREAK=b;a.RETURN=c}),Si=Q("species"),qf=function(a,b){var c=X(a).constructor,d;return void 0===c||void 0==(d=X(c)[Si])?b:Na(d)},Ti=function(a,b,c){var d=void 0===c;switch(b.length){case 0:return d?a():a.call(c);case 1:return d?a(b[0]):a.call(c,b[0]);case 2:return d?a(b[0],b[1]):a.call(c,b[0],b[1]);case 3:return d?a(b[0],b[1],b[2]):a.call(c,b[0],b[1],b[2]);case 4:return d?a(b[0],b[1],b[2],b[3]):a.call(c,b[0],b[1],b[2],b[3])}return a.apply(c,b)},rf=x.process,Qd=x.setImmediate,sf=x.clearImmediate,tf=x.MessageChannel,Rd=x.Dispatch,Sd=0,Qb={},jb,Td,Ud,Rb=function(){var a=+this;if(Qb.hasOwnProperty(a)){var b=Qb[a];delete Qb[a];b()}},uf=function(a){Rb.call(a.data)};Qd&&sf||(Qd=function(a){for(var b=[],c=1;arguments.length>c;)b.push(arguments[c++]);Qb[++Sd]=function(){Ti("function"==typeof a?a:Function(a),b)};jb(Sd);return Sd},sf=function(a){delete Qb[a]},"process"==Wa(rf)?jb=function(a){rf.nextTick(S(Rb,a,1))}:Rd&&Rd.now?jb=function(a){Rd.now(S(Rb,a,1))}:tf?(Td=new tf,Ud=Td.port2,Td.port1.onmessage=uf,jb=S(Ud.postMessage,Ud,1)):x.addEventListener&&"function"==typeof postMessage&&!x.importScripts?(jb=function(a){x.postMessage(a+"","*")},x.addEventListener("message",uf,!1)):jb="onreadystatechange"in(Bc?gb.createElement("script"):{})?function(a){xd.appendChild(Bc?gb.createElement("script"):{}).onreadystatechange=function(){xd.removeChild(this);Rb.call(a)}}:function(a){setTimeout(S(Rb,a,1),0)});var Vd=Qd,vf=x.MutationObserver||x.WebKitMutationObserver,Wd=x.process,Xd=x.Promise,wf="process"==Wa(Wd),Pc={f:function(a){return new nh(a)}},Qc=function(a){try{return{e:!1,v:a()}}catch(b){return{e:!0,v:b}}},Yd=function(a,b){X(a);if(M(b)&&b.constructor===a)return b;var c=Pc.f(a),d=c.resolve;d(b);return c.promise},Rc=function(a,b,c){for(var d in b)c&&a[d]?a[d]=b[d]:va(a,d,b[d]);return a},xf=Q("species"),yf=function(a){a="function"==typeof C[a]?C[a]:x[a];ma&&a&&!a[xf]&&na.f(a,xf,{configurable:!0,get:function(){return this}})},zf=function(){var a,b,c,d=function(){var d,e;for(wf&&(d=Wd.domain)&&d.exit();a;){e=a.fn;a=a.next;try{e()}catch(n){throw a?c():b=void 0,n;}}b=void 0;d&&d.enter()};if(wf)c=function(){Wd.nextTick(d)};else if(!vf||x.navigator&&x.navigator.standalone)if(Xd&&Xd.resolve){var e=Xd.resolve();c=function(){e.then(d)}}else c=function(){Vd.call(x,d)};else{var f=!0,g=document.createTextNode("");(new vf(d)).observe(g,{characterData:!0});c=function(){g.data=f=!f}}return function(d){d={fn:d,next:void 0};b&&(b.next=d);a||(a=d,c());b=d}}(),Af=x.TypeError,Sc=x.process,xa=x.Promise,Sb="process"==Nc(Sc),Tc=function(){},Uc,Bf,Cf,Zd,Tb=Bf=Pc.f,Vc=!!function(){try{var a=xa.resolve(1),b=(a.constructor={})[Q("species")]=function(b){b(Tc,Tc)};return(Sb||"function"==typeof PromiseRejectionEvent)&&a.then(Tc)instanceof b}catch(c){}}(),Df=function(a){var b;return M(a)&&"function"==typeof(b=a.then)?b:!1},$d=function(a,b){if(!a._n){a._n=!0;var c=a._c;zf(function(){for(var d=a._v,e=1==a._s,f=0;c.length>f;){var g=c[f++],h=e?g.ok:g.fail,k=g.resolve,n=g.reject,t=g.domain,p=void 0,l=void 0;try{h?(e||(2==a._h&&Ui(a),a._h=1),!0===h?p=d:(t&&t.enter(),p=h(d),t&&t.exit()),p===g.promise?n(Af("Promise-chain cycle")):(l=Df(p))?l.call(p,k,n):k(p)):n(d)}catch(ub){n(ub)}}a._c=[];a._n=!1;b&&!a._h&&Vi(a)})}},Vi=function(a){Vd.call(x,function(){var b=a._v,c=1!==a._h&&0===(a._a||a._c).length,d,e,f;c&&(d=Qc(function(){Sb?Sc.emit("unhandledRejection",b,a):(e=x.onunhandledrejection)?e({promise:a,reason:b}):(f=x.console)&&f.error&&f.error("Unhandled promise rejection",b)}),a._h=Sb||1!==a._h&&0===(a._a||a._c).length?2:1);a._a=void 0;if(c&&d.e)throw d.v;})},Ui=function(a){Vd.call(x,function(){var b;Sb?Sc.emit("rejectionHandled",a):(b=x.onrejectionhandled)&&b({promise:a,reason:a._v})})},kb=function(a){var b=this;b._d||(b._d=!0,b=b._w||b,b._v=a,b._s=2,b._a||(b._a=b._c.slice()),$d(b,!0))},ae=function(a){var b=this,c;if(!b._d){b._d=!0;b=b._w||b;try{if(b===a)throw Af("Promise can't be resolved itself");(c=Df(a))?zf(function(){var d={_w:b,_d:!1};try{c.call(a,S(ae,d,1),S(kb,d,1))}catch(e){kb.call(d,e)}}):(b._v=a,b._s=1,$d(b,!1))}catch(d){kb.call({_w:b,_d:!1},d)}}};Vc||(xa=function(a){Pb(this,xa,"Promise","_h");Na(a);Uc.call(this);try{a(S(ae,this,1),S(kb,this,1))}catch(b){kb.call(this,b)}},Uc=function(a){this._c=[];this._a=void 0;this._s=0;this._d=!1;this._v=void 0;this._h=0;this._n=!1},Uc.prototype=Rc(xa.prototype,{then:function(a,b){var c=Tb(qf(this,xa));c.ok="function"==typeof a?a:!0;c.fail="function"==typeof b&&b;c.domain=Sb?Sc.domain:void 0;this._c.push(c);this._a&&this._a.push(c);this._s&&$d(this,!1);return c.promise},"catch":function(a){return this.then(void 0,a)}}),Cf=function(){var a=new Uc;this.promise=a;this.resolve=S(ae,a,1);this.reject=S(kb,a,1)},Pc.f=Tb=function(a){return a===xa||a===Zd?new Cf(a):Bf(a)});m(m.G+m.W+m.F*!Vc,{Promise:xa});Ya(xa,"Promise");yf("Promise");Zd=C.Promise;m(m.S+m.F*!Vc,"Promise",{reject:function(a){var b=Tb(this),c=b.reject;c(a);return b.promise}});m(m.S+1*m.F,"Promise",{resolve:function(a){return Yd(this===Zd?xa:this,a)}});m(m.S+m.F*!(Vc&&of(function(a){xa.all(a)["catch"](Tc)})),"Promise",{all:function(a){var b=this,c=Tb(b),d=c.resolve,e=c.reject,f=Qc(function(){var c=[],f=0,k=1;La(a,!1,function(a){var g=f++,h=!1;c.push(void 0);k++;b.resolve(a).then(function(b){h||(h=!0,c[g]=b,--k||d(c))},e)});--k||d(c)});f.e&&e(f.v);return c.promise},race:function(a){var b=this,c=Tb(b),d=c.reject,e=Qc(function(){La(a,!1,function(a){b.resolve(a).then(c.resolve,d)})});e.e&&d(e.v);return c.promise}});m(m.P+m.R,"Promise",{"finally":function(a){var b=qf(this,C.Promise||x.Promise),c="function"==typeof a;return this.then(c?function(c){return Yd(b,a()).then(function(){return c})}:a,c?function(c){return Yd(b,a()).then(function(){throw c;})}:a)}});m(m.S,"Promise",{"try":function(a){var b=Pc.f(this);a=Qc(a);(a.e?b.reject:b.resolve)(a.v);return b.promise}});var Wi=C.Promise,Xi=r(function(a){a.exports={"default":Wi,__esModule:!0}}),O=D(Xi),Yi=Math.floor;m(m.S,"Number",{isInteger:function(a){return!M(a)&&isFinite(a)&&Yi(a)===a}});var Zi=C.Number.isInteger,$i=r(function(a){a.exports={"default":Zi,__esModule:!0}}),Ef=D($i),aj=RegExp("^[\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff][\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff]*"),bj=RegExp("[\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff][\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff]*$"),Ff=function(a,b,c){var d={},e=ua(function(){return!!"\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"[a]()||"\u200b\u0085"!="\u200b\u0085"[a]()});b=d[a]=e?b(cj):"\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"[a];c&&(d[c]=b);m(m.P+m.F*e,"String",d)},cj=Ff.trim=function(a,b){a=String(Aa(a));b&1&&(a=a.replace(aj,""));b&2&&(a=a.replace(bj,""));return a},be=x.parseFloat,dj=Ff.trim,Gf=-Infinity!==1/be("\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff-0")?function(a){a=dj(String(a),3);var b=be(a);return 0===b&&"-"==a.charAt(0)?-0:b}:be;m(m.S+m.F*(Number.parseFloat!=Gf),"Number",{parseFloat:Gf});var ej=parseFloat,fj=r(function(a){a.exports={"default":ej,__esModule:!0}}),Ih=D(fj),z=function(){function a(){ca(this,a)}da(a,null,[{key:"error",value:function(b,c){a.ENABLE_ERROR&&(console.error||console.warn||console.log)(qb(b,c))}},{key:"info",value:function(b,c){a.ENABLE_INFO&&(console.info||console.log)(qb(b,c))}},{key:"warn",value:function(b,c){a.ENABLE_WARN&&(console.warn||console.log)(qb(b,c))}},{key:"debug",value:function(b,c){a.ENABLE_DEBUG&&(console.debug||console.log)(qb(b,c))}},{key:"verbose",value:function(b,c){a.ENABLE_VERBOSE&&console.log(qb(b,c))}}]);return a}();z.GLOBAL_TAG="chimee";z.FORCE_GLOBAL_TAG=!1;z.ENABLE_ERROR=!0;z.ENABLE_INFO=!0;z.ENABLE_WARN=!0;z.ENABLE_DEBUG=!0;z.ENABLE_VERBOSE=!0;r(function(a,b){(function(c,d){var e={extend:function(b,a){var c={},d;for(d in b)c[d]=a[d]&&0===a[d].length%2?a[d].concat(b[d]):b[d];return c},has:function(b,a){return"string"===typeof b?-1!==a.toLowerCase().indexOf(b.toLowerCase()):!1},lowerize:function(b){return b.toLowerCase()},major:function(b){return"string"===typeof b?b.replace(/[^\d\.]/g,"").split(".")[0]:d},trim:function(b){return b.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},f=function(b,a){for(var c=0,e,f,g,h,k,n;c<a.length&&!k;){var p=a[c],t=a[c+1];for(e=f=0;e<p.length&&!k;)if(k=p[e++].exec(b))for(g=0;g<t.length;g++)n=k[++f],h=t[g],"object"===typeof h&&0<h.length?2==h.length?this[h[0]]="function"==typeof h[1]?h[1].call(this,n):h[1]:3==h.length?this[h[0]]="function"!==typeof h[1]||h[1].exec&&h[1].test?n?n.replace(h[1],h[2]):d:n?h[1].call(this,n,h[2]):d:4==h.length&&(this[h[0]]=n?h[3].call(this,n.replace(h[1],h[2])):d):this[h]=n?n:d;c+=2}},g=function(b,a){for(var c in a)if("object"===typeof a[c]&&0<a[c].length)for(var f=0;f<a[c].length;f++){if(e.has(a[c][f],b))return"?"===c?d:c}else if(e.has(a[c],b))return"?"===c?d:c;return b},h={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2E3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},k={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],["name","version"],[/(opios)[\/\s]+([\w\.]+)/i],[["name","Opera Mini"],"version"],[/\s(opr)\/([\w\.]+)/i],[["name","Opera"],"version"],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]+)*/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]+)*/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser)\/([\w\.-]+)/i],["name","version"],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[["name","IE"],"version"],[/(edge)\/((\d+)?[\w\.]+)/i],["name","version"],[/(yabrowser)\/([\w\.]+)/i],[["name","Yandex"],"version"],[/(puffin)\/([\w\.]+)/i],[["name","Puffin"],"version"],[/((?:[\s\/])uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[["name","UCBrowser"],"version"],[/(comodo_dragon)\/([\w\.]+)/i],[["name",/_/g," "],"version"],[/(micromessenger)\/([\w\.]+)/i],[["name","WeChat"],"version"],[/(QQ)\/([\d\.]+)/i],["name","version"],[/m?(qqbrowser)[\/\s]?([\w\.]+)/i],["name","version"],[/xiaomi\/miuibrowser\/([\w\.]+)/i],["version",["name","MIUI Browser"]],[/;fbav\/([\w\.]+);/i],["version",["name","Facebook"]],[/headlesschrome(?:\/([\w\.]+)|\s)/i],["version",["name","Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[["name",/(.+)/,"$1 WebView"],"version"],[/((?:oculus|samsung)browser)\/([\w\.]+)/i],[["name",/(.+(?:g|us))(.+)/,"$1 $2"],"version"],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],["version",["name","Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],["name","version"],[/(dolfin)\/([\w\.]+)/i],[["name","Dolphin"],"version"],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[["name","Chrome"],"version"],[/(coast)\/([\w\.]+)/i],[["name","Opera Coast"],"version"],[/fxios\/([\w\.-]+)/i],["version",["name","Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],["version",["name","Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],["version","name"],[/webkit.+?(gsa)\/([\w\.]+).+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[["name","GSA"],"version"],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],["name",["version",g,{"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(konqueror)\/([\w\.]+)/i,/(webkit|khtml)\/([\w\.]+)/i],["name","version"],[/(navigator|netscape)\/([\w\.-]+)/i],[["name","Netscape"],"version"],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/([\w\.-]+)/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]+)*/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],["name","version"]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[["architecture","amd64"]],[/(ia32(?=;))/i],[["architecture",e.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[["architecture","ia32"]],[/windows\s(ce|mobile);\sppc;/i],[["architecture","arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[["architecture",/ower/,"",e.lowerize]],[/(sun4\w)[;\)]/i],[["architecture","sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+;))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[["architecture",e.lowerize]]],device:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],["model","vendor",["type","tablet"]],[/applecoremedia\/[\w\.]+ \((ipad)/],["model",["vendor","Apple"],["type","tablet"]],[/(apple\s{0,1}tv)/i],[["model","Apple TV"],["vendor","Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],["vendor","model",["type","tablet"]],[/(kf[A-z]+)\sbuild\/[\w\.]+.*silk\//i],["model",["vendor","Amazon"],["type","tablet"]],[/(sd|kf)[0349hijorstuw]+\sbuild\/[\w\.]+.*silk\//i],[["model",g,{"Fire Phone":["SD","KF"]}],["vendor","Amazon"],["type","mobile"]],[/\((ip[honed|\s\w*]+);.+(apple)/i],["model","vendor",["type","mobile"]],[/\((ip[honed|\s\w*]+);/i],["model",["vendor","Apple"],["type","mobile"]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]+)*/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],["vendor","model",["type","mobile"]],[/\(bb10;\s(\w+)/i],["model",["vendor","BlackBerry"],["type","mobile"]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone)/i],["model",["vendor","Asus"],["type","tablet"]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[["vendor","Sony"],["model","Xperia Tablet"],["type","tablet"]],[/android.+\s([c-g]\d{4}|so[-l]\w+)\sbuild\//i],["model",["vendor","Sony"],["type","mobile"]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],["vendor","model",["type","console"]],[/android.+;\s(shield)\sbuild/i],["model",["vendor","Nvidia"],["type","console"]],[/(playstation\s[34portablevi]+)/i],["model",["vendor","Sony"],["type","console"]],[/(sprint\s(\w+))/i],[["vendor",g,{HTC:"APA",Sprint:"Sprint"}],["model",g,{"Evo Shift 4G":"7373KT"}],["type","mobile"]],[/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],["vendor","model",["type","tablet"]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w+)*/i,/(alcatel|geeksphone|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]+)*/i],["vendor",["model",/_/g," "],["type","mobile"]],[/(nexus\s9)/i],["model",["vendor","HTC"],["type","tablet"]],[/d\/huawei([\w\s-]+)[;\)]/i,/(nexus\s6p)/i],["model",["vendor","Huawei"],["type","mobile"]],[/(microsoft);\s(lumia[\s\w]+)/i],["vendor","model",["type","mobile"]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],["model",["vendor","Microsoft"],["type","console"]],[/(kin\.[onetw]{3})/i],[["model",/\./g," "],["vendor","Microsoft"],["type","mobile"]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?(:?\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w+)*/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],["model",["vendor","Motorola"],["type","mobile"]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],["model",["vendor","Motorola"],["type","tablet"]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[["vendor",e.trim],["model",e.trim],["type","smarttv"]],[/hbbtv.+maple;(\d+)/i],[["model",/^/,"SmartTV"],["vendor","Samsung"],["type","smarttv"]],[/\(dtv[\);].+(aquos)/i],["model",["vendor","Sharp"],["type","smarttv"]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[["vendor","Samsung"],"model",["type","tablet"]],[/smart-tv.+(samsung)/i],["vendor",["type","smarttv"],"model"],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)*/i,/sec-((sgh\w+))/i],[["vendor","Samsung"],"model",["type","mobile"]],[/sie-(\w+)*/i],["model",["vendor","Siemens"],["type","mobile"]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]+)*/i],[["vendor","Nokia"],"model",["type","mobile"]],[/android\s3\.[\s\w;-]{10}(a\d{3})/i],["model",["vendor","Acer"],["type","tablet"]],[/android.+([vl]k\-?\d{3})\s+build/i],["model",["vendor","LG"],["type","tablet"]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[["vendor","LG"],"model",["type","tablet"]],[/(lg) netcast\.tv/i],["vendor","model",["type","smarttv"]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w+)*/i,/android.+lg(\-?[\d\w]+)\s+build/i],["model",["vendor","LG"],["type","mobile"]],[/android.+(ideatab[a-z0-9\-\s]+)/i],["model",["vendor","Lenovo"],["type","tablet"]],[/linux;.+((jolla));/i],["vendor","model",["type","mobile"]],[/((pebble))app\/[\d\.]+\s/i],["vendor","model",["type","wearable"]],[/android.+;\s(oppo)\s?([\w\s]+)\sbuild/i],["vendor","model",["type","mobile"]],[/crkey/i],[["model","Chromecast"],["vendor","Google"]],[/android.+;\s(glass)\s\d/i],["model",["vendor","Google"],["type","wearable"]],[/android.+;\s(pixel c)\s/i],["model",["vendor","Google"],["type","tablet"]],[/android.+;\s(pixel xl|pixel)\s/i],["model",["vendor","Google"],["type","mobile"]],[/android.+(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:one|one[\s_]plus|note lte)?[\s_]*(?:\d\w)?)\s+build/i,/android.+(redmi[\s\-_]*(?:note)?(?:[\s_]*[\w\s]+)?)\s+build/i],[["model",/_/g," "],["vendor","Xiaomi"],["type","mobile"]],[/android.+(mi[\s\-_]*(?:pad)?(?:[\s_]*[\w\s]+)?)\s+build/i],[["model",/_/g," "],["vendor","Xiaomi"],["type","tablet"]],[/android.+;\s(m[1-5]\snote)\sbuild/i],["model",["vendor","Meizu"],["type","tablet"]],[/android.+a000(1)\s+build/i],["model",["vendor","OnePlus"],["type","mobile"]],[/android.+[;\/]\s*(RCT[\d\w]+)\s+build/i],["model",["vendor","RCA"],["type","tablet"]],[/android.+[;\/]\s*(Venue[\d\s]*)\s+build/i],["model",["vendor","Dell"],["type","tablet"]],[/android.+[;\/]\s*(Q[T|M][\d\w]+)\s+build/i],["model",["vendor","Verizon"],["type","tablet"]],[/android.+[;\/]\s+(Barnes[&\s]+Noble\s+|BN[RT])(V?.*)\s+build/i],[["vendor","Barnes \x26 Noble"],"model",["type","tablet"]],[/android.+[;\/]\s+(TM\d{3}.*\b)\s+build/i],["model",["vendor","NuVision"],["type","tablet"]],[/android.+[;\/]\s*(zte)?.+(k\d{2})\s+build/i],[["vendor","ZTE"],"model",["type","tablet"]],[/android.+[;\/]\s*(gen\d{3})\s+build.*49h/i],["model",["vendor","Swiss"],["type","mobile"]],[/android.+[;\/]\s*(zur\d{3})\s+build/i],["model",["vendor","Swiss"],["type","tablet"]],[/android.+[;\/]\s*((Zeki)?TB.*\b)\s+build/i],["model",["vendor","Zeki"],["type","tablet"]],[/(android).+[;\/]\s+([YR]\d{2}x?.*)\s+build/i,/android.+[;\/]\s+(Dragon[\-\s]+Touch\s+|DT)(.+)\s+build/i],[["vendor","Dragon Touch"],"model",["type","tablet"]],[/android.+[;\/]\s*(NS-?.+)\s+build/i],["model",["vendor","Insignia"],["type","tablet"]],[/android.+[;\/]\s*((NX|Next)-?.+)\s+build/i],["model",["vendor","NextBook"],["type","tablet"]],[/android.+[;\/]\s*(Xtreme\_?)?(V(1[045]|2[015]|30|40|60|7[05]|90))\s+build/i],[["vendor","Voice"],"model",["type","mobile"]],[/android.+[;\/]\s*(LVTEL\-?)?(V1[12])\s+build/i],[["vendor","LvTel"],"model",["type","mobile"]],[/android.+[;\/]\s*(V(100MD|700NA|7011|917G).*\b)\s+build/i],["model",["vendor","Envizen"],["type","tablet"]],[/android.+[;\/]\s*(Le[\s\-]+Pan)[\s\-]+(.*\b)\s+build/i],["vendor","model",["type","tablet"]],[/android.+[;\/]\s*(Trio[\s\-]*.*)\s+build/i],["model",["vendor","MachSpeed"],["type","tablet"]],[/android.+[;\/]\s*(Trinity)[\-\s]*(T\d{3})\s+build/i],["vendor","model",["type","tablet"]],[/android.+[;\/]\s*TU_(1491)\s+build/i],["model",["vendor","Rotor"],["type","tablet"]],[/android.+(KS(.+))\s+build/i],["model",["vendor","Amazon"],["type","tablet"]],[/android.+(Gigaset)[\s\-]+(Q.+)\s+build/i],["vendor","model",["type","tablet"]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[["type",e.lowerize],"vendor","model"],[/(android.+)[;\/].+build/i],["model",["vendor","Generic"]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],["version",["name","EdgeHTML"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],["name","version"],[/rv\:([\w\.]+).*(gecko)/i],["version","name"]],os:[[/microsoft\s(windows)\s(vista|xp)/i],["name","version"],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s]+\w)*/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],["name",["version",g,h]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[["name","Windows"],["version",g,h]],[/\((bb)(10);/i],[["name","BlackBerry"],"version"],[/(blackberry)\w*\/?([\w\.]+)*/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]+)*/i,/linux;.+(sailfish);/i],["name","version"],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],[["name","Symbian"],"version"],[/\((series40);/i],["name"],[/mozilla.+\(mobile;.+gecko.+firefox/i],[["name","Firefox OS"],"version"],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w+)*/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]+)*/i,/(hurd|linux)\s?([\w\.]+)*/i,/(gnu)\s?([\w\.]+)*/i],["name","version"],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[["name","Chromium OS"],"version"],[/(sunos)\s?([\w\.]+\d)*/i],[["name","Solaris"],"version"],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],["name","version"],[/(haiku)\s(\w+)/i],["name","version"],[/cfnetwork\/.+darwin/i,/ip[honead]+(?:.*os\s([\w]+)\slike\smac|;\sopera)/i],[["version",/_/g,"."],["name","iOS"]],[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i,/(macintosh|mac(?=_powerpc)\s)/i],[["name","Mac OS"],["version",/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]+)*/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms)/i,/(unix)\s?([\w\.]+)*/i],["name","version"]]},n=function(b,a){"object"===typeof b&&(a=b,b=d);if(!(this instanceof n))return(new n(b,a)).getResult();var g=b||(c&&c.navigator&&c.navigator.userAgent?c.navigator.userAgent:""),h=a?e.extend(k,a):k;this.getBrowser=function(){var b={name:d,version:d};f.call(b,g,h.browser);b.major=e.major(b.version);return b};this.getCPU=function(){var b={architecture:d};f.call(b,g,h.cpu);return b};this.getDevice=function(){var b={vendor:d,model:d,type:d};f.call(b,g,h.device);return b};this.getEngine=function(){var b={name:d,version:d};f.call(b,g,h.engine);return b};this.getOS=function(){var b={name:d,version:d};f.call(b,g,h.os);return b};this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}};this.getUA=function(){return g};this.setUA=function(b){g=b;return this};return this};n.VERSION="0.7.17";n.BROWSER={NAME:"name",MAJOR:"major",VERSION:"version"};n.CPU={ARCHITECTURE:"architecture"};n.DEVICE={MODEL:"model",VENDOR:"vendor",TYPE:"type",CONSOLE:"console",MOBILE:"mobile",SMARTTV:"smarttv",TABLET:"tablet",WEARABLE:"wearable",EMBEDDED:"embedded"};n.ENGINE={NAME:"name",VERSION:"version"};n.OS={NAME:"name",VERSION:"version"};a.exports&&(b=a.exports=n);b.UAParser=n;var t=c&&(c.jQuery||c.Zepto);if("undefined"!==typeof t){var p=new n;t.ua=p.getResult();t.ua.get=function(){return p.getUA()};t.ua.set=function(b){p.setUA(b);b=p.getResult();for(var a in b)t.ua[a]=b[a]}}})("object"===typeof window?window:Kh)});var qe=function(a){function b(d,e,f){if(A(d)||B(d)){e=qa(e)?B(d)?{}:[]:e;for(var g in d)c(e,g,b(d[g],e[g],g));return e}return a(d,e,f)}var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:function(b,a,c){b[a]=c};return b}(function(a){return a}),Hf="undefined"!==typeof window&&"[object Object]"!==Object.prototype.toString.call(window),hc=se(null);hc.count=0;var If=function(){function a(b,c){var d=this;ca(this,a);Object.defineProperty(this,"__target",{writable:!0,enumerable:!1,configurable:!0});this.__target=this;if(b){if("object"!==("undefined"===typeof b?"undefined":F(b)))throw Error("CusEvent target are not object");this.__target=b;c&&["on","once","off","emit"].forEach(function(a){b[a]=d[a]})}}da(a,[{key:"on",value:function(b,a){ed(this.__target,b,a,2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1);return this}},{key:"once",value:function(b,a){return this.on(b,a,!0)}},{key:"off",value:function(b,a){jc(this.__target,b,a,2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1);return this}},{key:"emit",value:function(b,a){qh(this.__target,b,{data:a});return this}}]);return a}(),ce=Hf?document.createElement("div"):{},de="innerText";"textContent"in ce&&(de="textContent");var ee=Array.prototype,rb=!1;try{var gj=Object.defineProperty({},"passive",{get:function(){rb=!0}});Hf&&window.addEventListener("test",null,gj)}catch(a){console.error(a)}var ve=function(){function a(b){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:document;ca(this,a);(this.selector=b)&&b.constructor===NodeList?c=gd(b):A(b)?c=b:u(b)?0===b.indexOf("\x3c")?(ce.innerHTML=b,c=kc("*",ce,!0)):c=kc(b,c,!0):c=[b];ic(this,c);this.length=c.length}da(a,[{key:"each",value:function(){for(var b=arguments.length,a=Array(b),d=0;d<b;d++)a[d]=arguments[d];ee.forEach.apply(this,a);return this}},{key:"push",value:function(){for(var b=arguments.length,a=Array(b),d=0;d<b;d++)a[d]=arguments[d];ee.push.apply(this,a);return this}},{key:"splice",value:function(){for(var b=arguments.length,a=Array(b),d=0;d<b;d++)a[d]=arguments[d];return Fa(ee.splice.apply(this,a))}},{key:"find",value:function(b){var a=[];this.each(function(c){a=a.concat(kc(b,c,!0))});var d=Fa(a);d.parent=this;d.selector=b;return d}},{key:"append",value:function(b){b=Fa(b);var a=this[0];b.each(function(b){return a.appendChild(b)});return this}},{key:"appendTo",value:function(b){Fa(b).append(this);return this}},{key:"text",value:function(b){return 0===arguments.length?this[0][de]:this.each(function(a){a[de]=b})}},{key:"html",value:function(b){return 0===arguments.length?this[0].innerHTML:this.each(function(a){a.innerHTML=b})}},{key:"attr",value:function(b,a){return 1===arguments.length?this[0].getAttribute(b):this.each(function(c){return fd(c,b,a)})}},{key:"data",value:function(b,a){return 0===arguments.length?this[0].dataset||{}:1===arguments.length?(this[0].dataset||{})[b]:this.each(function(c){(c.dataset||(c.dataset={}))[b]=a})}},{key:"css",value:function(b,a){return 1!==arguments.length||B(b)?this.each(function(c){return lc(c,b,a)}):ue(this[0],b)}},{key:"addClass",value:function(b){return this.each(function(a){return te(a,b)})}},{key:"removeClass",value:function(b){return this.each(function(a){return rh(a,b)})}},{key:"hasClass",value:function(b){return(new RegExp("(?:^|\\s)"+b+"(?\x3d\\s|$)")).test(this[0].className)}},{key:"on",value:function(b,a){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1,e=3<arguments.length&&void 0!==arguments[3]?arguments[3]:!1;return this.each(function(d){return ra(d,b,a,c,e)})}},{key:"off",value:function(b,a){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1,e=3<arguments.length&&void 0!==arguments[3]?arguments[3]:!1;return this.each(function(d){return R(d,b,a,c,e)})}},{key:"delegate",value:function(b,a,d){var c=3<arguments.length&&void 0!==arguments[3]?arguments[3]:!1;return this.each(function(e){return sh(e,b,a,d,c)})}},{key:"undelegate",value:function(b,a,d){var c=3<arguments.length&&void 0!==arguments[3]?arguments[3]:!1;return this.each(function(e){return uh(e,b,a,d,c)})}},{key:"remove",value:function(){return this.each(function(b){b.parentNode.removeChild(b)})}}]);return a}(),Jf=0,Kf=function(a){function b(a,d,e){ca(this,b);var c=Lc(this,(b.__proto__||Ra(b)).call(this));if(!Y(a))throw Error("You must pass in an legal video element but not "+("undefined"===typeof a?"undefined":F(a)));c.video=a;c.config=d;c.customConfig=e;return c}Mc(b,a);da(b,null,[{key:"isSupport",value:function(){return!0}}]);da(b,[{key:"load",value:function(b){this.video.setAttribute("src",b);this.video.src=b}},{key:"startLoad",value:function(b){var a=this.video.currentTime||Jf;this.load(b);this.seek(a)}},{key:"stopLoad",value:function(){Jf=this.video.currentTime;this.video.src="";this.video.removeAttribute("src")}},{key:"destroy",value:function(){Y(this.video)&&this.stopLoad()}},{key:"play",value:function(){return this.video.play()}},{key:"pause",value:function(){return this.video.pause()}},{key:"refresh",value:function(){this.video.src=this.config.src}},{key:"attachMedia",value:function(){}},{key:"seek",value:function(b){this.video.currentTime=b}}]);return b}(If),hj={isLive:!1,box:"",preset:{},presetConfig:{}},ij=["mediaInfo","heartbeat","error"],Lf={flv:".flv",hls:".m3u8",mp4:".mp4"},jj=function(a){function b(a,d){ca(this,b);var c=Lc(this,(b.__proto__||Ra(b)).call(this));c.VERSION="1.4.0";if(!Y(a))throw Error("You must pass in an video element to the chimee-kernel");c.config=Ea({},hj,d);c.videoElement=a;c.initVideoKernel();c.bindEvents(c.videoKernel);return c}Mc(b,a);da(b,[{key:"destroy",value:function(){this.bindEvents(this.videoKernel,!0);this.videoKernel.destroy()}},{key:"initVideoKernel",value:function(){var b=this.config,a=this.chooseBox(b);this.box=a;var e=this.chooseVideoKernel(this.box,b.preset);if(!l(e))throw Error("We can't find video kernel for "+a+". Please check your config and make sure it's installed or provided");a=b.presetConfig[this.box]||{};Ea(b,a);this.videoKernel=new e(this.videoElement,b,a)}},{key:"chooseBox",value:function(b){var a=b.src;b=b.box;if(u(b)&&b)return b;var a=a.toLowerCase(),c;for(c in Lf)if(-1<a.indexOf(Lf[c]))return c;return"native"}},{key:"chooseVideoKernel",value:function(b,a){switch(b){case "native":return Kf;case "mp4":return this.getMp4Kernel(a.mp4);case "flv":case "hls":return a[b];default:throw Error("We currently do not support box "+b+", please contact us through https://github.com/Chimeejs/chimee/issues.");}}},{key:"getMp4Kernel",value:function(b){var a=b&&l(b.isSupport);if(a&&b.isSupport())return b;a&&this.warnLog("mp4 decode is not support in this browser, we will switch to the native video kernel");this.box="native";return Kf}},{key:"errorLog",value:function(){for(var b=arguments.length,a=Array(b),e=0;e<b;e++)a[e]=arguments[e];this.emit("error",Error(a[0]));return z.error.apply(z,["chimee-kernel"].concat(a))}},{key:"warnLog",value:function(){for(var b=arguments.length,a=Array(b),e=0;e<b;e++)a[e]=arguments[e];return z.warn.apply(z,["chimee-kernel"].concat(a))}},{key:"bindEvents",value:function(b){var a=this,c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1;ij.forEach(function(d){b[c?"off":"on"](d,function(){a.emit(d,(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).data)})})}},{key:"attachMedia",value:function(){this.videoKernel.attachMedia()}},{key:"load",value:function(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.config.src;this.config.src=b;this.videoKernel.load(b)}},{key:"startLoad",value:function(){if(!l(this.videoKernel.startLoad))throw Error("This video kernel do not support startLoad, please contact us on https://github.com/Chimeejs/chimee/issues");this.videoKernel.startLoad(this.config.src)}},{key:"stopLoad",value:function(){l(this.videoKernel.stopLoad)&&this.videoKernel.stopLoad()}},{key:"play",value:function(){this.videoKernel.play()}},{key:"pause",value:function(){this.videoKernel.pause()}},{key:"seek",value:function(b){Pa(b)?this.videoKernel.seek(b):this.errorLog("When you try to seek, you must offer us a number, but not "+("undefined"===typeof b?"undefined":F(b)))}},{key:"refresh",value:function(){this.videoKernel.refresh()}},{key:"currentTime",get:function(){return this.videoElement.currentTime||0}}]);return b}(If),pa=function(a,b){if(!M(a)||a._t!==b)throw TypeError("Incompatible receiver, "+b+" required!");return a},kj=na.f,Mf=Za.fastKey,Ub=ma?"_s":"size",Wc=function(a,b){var c=Mf(b);if("F"!==c)return a._i[c];for(c=a._f;c;c=c.n)if(c.k==b)return c},fe={getConstructor:function(a,b,c,d){var e=a(function(a,g){Pb(a,e,b,"_i");a._t=b;a._i=Ja(null);a._f=void 0;a._l=void 0;a[Ub]=0;void 0!=g&&La(g,c,a[d],a)});Rc(e.prototype,{clear:function(){for(var a=pa(this,b),c=a._i,d=a._f;d;d=d.n)d.r=!0,d.p&&(d.p=d.p.n=void 0),delete c[d.i];a._f=a._l=void 0;a[Ub]=0},"delete":function(a){var c=pa(this,b);if(a=Wc(c,a)){var d=a.n,e=a.p;delete c._i[a.i];a.r=!0;e&&(e.n=d);d&&(d.p=e);c._f==a&&(c._f=d);c._l==a&&(c._l=e);c[Ub]--}return!!a},forEach:function(a){pa(this,b);for(var c=S(a,1<arguments.length?arguments[1]:void 0,3),d;d=d?d.n:this._f;)for(c(d.v,d.k,this);d&&d.r;)d=d.p},has:function(a){return!!Wc(pa(this,b),a)}});ma&&kj(e.prototype,"size",{get:function(){return pa(this,b)[Ub]}});return e},def:function(a,b,c){var d=Wc(a,b),e;d?d.v=c:(a._l=d={i:e=Mf(b,!0),k:b,v:c,p:b=a._l,n:void 0,r:!1},a._f||(a._f=d),b&&(b.n=d),a[Ub]++,"F"!==e&&(a._i[e]=d));return a},getEntry:Wc,setStrong:function(a,b,c){Ad(a,b,function(a,c){this._t=pa(a,b);this._k=c;this._l=void 0},function(){for(var b=this._k,a=this._l;a&&a.r;)a=a.p;return this._t&&(this._l=a=a?a.n:this._t._f)?"keys"==b?Ka(0,a.k):"values"==b?Ka(0,a.v):Ka(0,[a.k,a.v]):(this._t=void 0,Ka(1))},c?"entries":"values",!c,!0);yf(b)}},lj=Q("species"),mj=function(a,b){var c;Gd(a)&&(c=a.constructor,"function"!=typeof c||c!==Array&&!Gd(c.prototype)||(c=void 0),M(c)&&(c=c[lj],null===c&&(c=void 0)));return new (void 0===c?Array:c)(b)},Xc=function(a,b){var c=1==a,d=2==a,e=3==a,f=4==a,g=6==a,h=5==a||g,k=b||mj;return function(b,t,p){var n=Object(Aa(b)),l=ud(n);t=S(t,p,3);p=Dc(l.length);var m=0;b=c?k(b,p):d?k(b,0):void 0;for(var q,r;p>m;m++)if(h||m in l)if(q=l[m],r=t(q,m,n),a)if(c)b[m]=r;else if(r)switch(a){case 3:return!0;case 5:return q;case 6:return m;case 2:b.push(q)}else if(f)return!1;return g?-1:e||f?f:b}},nj=na.f,oj=Xc(0),Nf=function(a,b,c,d,e,f){var g=x[a],h=g,k=e?"set":"add",n=h&&h.prototype,t={};ma&&"function"==typeof h&&(f||n.forEach&&!ua(function(){(new h).entries().next()}))?(h=b(function(b,c){Pb(b,h,a,"_c");b._c=new g;void 0!=c&&La(c,e,b[k],b)}),oj("add clear delete forEach get has set keys values entries toJSON".split(" "),function(b){var a="add"==b||"set"==b;b in n&&(!f||"clear"!=b)&&va(h.prototype,b,function(c,d){Pb(this,h,b);if(!a&&f&&!M(c))return"get"==b?void 0:!1;var e=this._c[b](0===c?0:c,d);return a?this:e})}),f||nj(h.prototype,"size",{get:function(){return this._c.size}})):(h=d.getConstructor(b,a,e,k),Rc(h.prototype,c),Za.NEED=!0);Ya(h,a);t[a]=h;m(m.G+m.W+m.F,t);f||d.setStrong(h,a,e);return h};Nf("Map",function(a){return function(){return a(this,0<arguments.length?arguments[0]:void 0)}},{get:function(a){return(a=fe.getEntry(pa(this,"Map"),a))&&a.v},set:function(a,b){return fe.def(pa(this,"Map"),0===a?0:a,b)}},fe,!0);m(m.P+m.R,"Map",{toJSON:function(a){return function(){if(Nc(this)!=a)throw TypeError(a+"#toJSON isn't generic");var b=[];La(this,!1,b.push,b,void 0);return b}}("Map")});var Of=function(a){m(m.S,a,{of:function(){for(var b=arguments.length,a=Array(b);b--;)a[b]=arguments[b];return new this(a)}})};Of("Map");var Pf=function(a){m(m.S,a,{from:function(b,a,d){var c,f,g,h;Na(this);(c=void 0!==a)&&Na(a);if(void 0==b)return new this;f=[];c?(g=0,h=S(a,d,2),La(b,!1,function(b){f.push(h(b,g++))})):La(b,!1,f.push,f);return new this(f)}})};Pf("Map");var pj=C.Map,qj=r(function(a){a.exports={"default":pj,__esModule:!0}}),rj=D(qj),ge="abort canplay canplaythrough durationchange emptied encrypted ended error interruptbegin interruptend loadeddata loadedmetadata loadstart mozaudioavailable pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sj="buffered currentSrc duration error ended networkState paused readyState seekable sinkId controlsList tabIndex dataset offsetHeight offsetLeft offsetParent offsetTop offsetWidth".split(" "),lb="beforeinput blur click compositionend compositionstart compositionupdate dblclick focus focusin focusout input keydown keypress keyup mousedown mouseenter mouseleave mousemove mouseout mouseover mouseup resize scroll select wheel mousewheel fullscreenchange contextmenu touchstart touchmove touchend".split(" "),tj=["wheel","mousewheel","touchstart","touchmove"],Yc=["silentLoad","fullscreen"],Qf=["play","pause","seek","startLoad","stopLoad"],uj=["load"],vj=["mediaInfo","heartbeat","error"],Rf=["focus","fullscreen","requestFullscreen","exitFullscreen"],wj=["canPlayType","captureStream","setSinkId"],Sf=x.Reflect,xj=Sf&&Sf.ownKeys||function(a){var b=Hd.f(X(a)),c=Hc;return c?b.concat(c(a)):b};m(m.S,"Object",{getOwnPropertyDescriptors:function(a){a=oa(a);for(var b=Db.f,c=xj(a),d={},e=0,f,g;c.length>e;)g=b(a,f=c[e++]),void 0!==g&&Od(d,f,g);return d}});var yj=C.Object.getOwnPropertyDescriptors,zj=r(function(a){a.exports={"default":yj,__esModule:!0}}),Tf=D(zj),Aj=C.Object.getOwnPropertySymbols,Bj=r(function(a){a.exports={"default":Aj,__esModule:!0}}),Uf=D(Bj);Eb("getOwnPropertyNames",function(){return Id});var Cj=C.Object,Dj=function(a){return Cj.getOwnPropertyNames(a)},Ej=r(function(a){a.exports={"default":Dj,__esModule:!0}}),Vf=D(Ej),he=Za.getWeak,Fj=Xc(5),Gj=Xc(6),Hj=0,Zc=function(a){return a._l||(a._l=new Wf)},Wf=function(){this.a=[]},ie=function(a,b){return Fj(a.a,function(a){return a[0]===b})};Wf.prototype={get:function(a){if(a=ie(this,a))return a[1]},has:function(a){return!!ie(this,a)},set:function(a,b){var c=ie(this,a);c?c[1]=b:this.a.push([a,b])},"delete":function(a){var b=Gj(this.a,function(b){return b[0]===a});~b&&this.a.splice(b,1);return!!~b}};var $c={getConstructor:function(a,b,c,d){var e=a(function(a,g){Pb(a,e,b,"_i");a._t=b;a._i=Hj++;a._l=void 0;void 0!=g&&La(g,c,a[d],a)});Rc(e.prototype,{"delete":function(a){if(!M(a))return!1;var c=he(a);return!0===c?Zc(pa(this,b))["delete"](a):c&&I(c,this._i)&&delete c[this._i]},has:function(a){if(!M(a))return!1;var c=he(a);return!0===c?Zc(pa(this,b)).has(a):c&&I(c,this._i)}});return e},def:function(a,b,c){var d=he(X(b),!0);!0===d?Zc(a).set(b,c):d[a._i]=c;return a},ufstore:Zc};r(function(a){var b=Xc(0),c=Za.getWeak,d=Object.isExtensible,e=$c.ufstore,f={},g,h=function(b){return function(){return b(this,0<arguments.length?arguments[0]:void 0)}},k={get:function(b){if(M(b)){var a=c(b);return!0===a?e(pa(this,"WeakMap")).get(b):a?a[this._i]:void 0}},set:function(b,a){return $c.def(pa(this,"WeakMap"),b,a)}},n=a.exports=Nf("WeakMap",h,k,$c,!0,!0);ua(function(){return 7!=(new n).set((Object.freeze||Object)(f),7).get(f)})&&(g=$c.getConstructor(h,"WeakMap"),pf(g.prototype,k),Za.NEED=!0,b(["delete","has","get","set"],function(b){var a=n.prototype,c=a[b];va(a,b,function(a,e){if(M(a)&&!d(a)){this._f||(this._f=new g);var f=this._f[b](a,e);return"set"==b?this:f}return c.call(this,a,e)})}))});Of("WeakMap");Pf("WeakMap");var Ij=C.WeakMap,Jj=r(function(a){a.exports={"default":Ij,__esModule:!0}}),kd=D(Jj),Kj=r(function(a,b){b.__esModule=!0;var c=za&&za.__esModule?za:{"default":za};b["default"]=function(b,a,f){a in b?(0,c["default"])(b,a,{value:f,enumerable:!0,configurable:!0,writable:!0}):b[a]=f;return b}}),yb=D(Kj),Lj=Za.onFreeze;Eb("preventExtensions",function(a){return function(b){return a&&M(b)?a(Lj(b)):b}});var Mj=C.Object.preventExtensions,Nj=r(function(a){a.exports={"default":Mj,__esModule:!0}});D(Nj);var pc=function(){return l(Uf)?function(a){return gd(Vf(a).concat(Uf(a)))}:Vf}(),zh=function(){return l(Tf)?Tf:function(a){return pc(a).reduce(function(b,c){b[c]=q(a,c);return b},{})}}(),xh=q,yh=T,Ah=T,xb=vb(qc,{requirement:function(a,b,c){return tb(c)&&l(c.value)}}),wb=void 0,Ch=T,Dh=q,Eh=T,Gh=T,Fh=q,ze="push pop unshift shift splice sort reverse".split(" ");vb(Z,{requirement:function(a,b,c){return tb(c)&&l(c.value)},customArgs:!0});vb(function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];if(0===b.length)throw Error("@after accept at least one parameter. If you don't need to preprocess after your function, do not add @after decorators");if(2<b.length&&mc(b[2]))throw Error("You may have used @after straightly. @after return decorators. You should call it before you use it as decorators");var d=oc(b,"@after only accept function parameter");return function(b,a,c){var e=c||{},f=e.value;b=e.configurable;c=e.enumerable;e=e.writable;if(!l(f))throw new TypeError('@after can only be used on function, please checkout your property "'+a+'" is a method or not.');return{value:function(){var b=y(f,this).apply(void 0,arguments);return y(d,this)(b)},configurable:b,enumerable:c,writable:e}}},{requirement:function(a,b,c){return tb(c)&&l(c.value)},customArgs:!0});vb(zb,{requirement:function(a,b,c){return tb(c)&&l(c.value)},customArgs:!0});vb(ye,{requirement:function(a,b,c){return tb(c)&&l(c.value)},customArgs:!0});var Xf,Yf,Zf,$f,ia,md=/^(before|after|_)/,Oj=(Xf=zb(uc),Yf=zb(uc,{backup:function(){return!1}}),Zf=zb(uc),$f=zb(uc,{backup:function(){return!1}}),ia=function(){function a(b){ca(this,a);this.events={};this.onceMap={};this.__dispatcher=b}da(a,[{key:"on",value:function(b,a,d){a=this._getEventStage(a);this._addEvent([a.key,a.stage,b],d)}},{key:"off",value:function(b,a,d){a=this._getEventStage(a);b=[a.key,a.stage,b];this._removeEvent(b,d)||(a=this._getHandlerFromOnceMap(b,d),l(a)&&this._removeEvent(b,a)&&this._removeFromOnceMap(b,d,a))}},{key:"once",value:function(b,a,d){a=this._getEventStage(a);var c=this,f=[a.key,a.stage,b];b=function h(){db(d,this).apply(void 0,arguments);c._removeEvent(f,h);c._removeFromOnceMap(f,d,h)};this._addEvent(f,b);this._addToOnceMap(f,d,b)}},{key:"emit",value:function(b){for(var a=this,d=arguments.length,e=Array(1<d?d-1:0),f=1;f<d;f++)e[f-1]=arguments[f];d=this.events[b];if(J(d))return-1<Yc.indexOf(b)?O.resolve():this._eventProcessor.apply(this,[b,{sync:!1}].concat(E(e)));d=this._getEventQueue(d.before,this.__dispatcher.order);return gc.apply(void 0,[d].concat(E(e))).then(function(){if(!(-1<Yc.indexOf(b)))return a._eventProcessor.apply(a,[b,{sync:!1}].concat(E(e)))})["catch"](function(b){pb(b)&&a.__dispatcher.throwError(b);return O.reject(b)})}},{key:"emitSync",value:function(b){for(var a=this.events[b],d=arguments.length,e=Array(1<d?d-1:0),f=1;f<d;f++)e[f-1]=arguments[f];if(J(a))return-1<Yc.indexOf(b)?!0:this._eventProcessor.apply(this,[b,{sync:!0}].concat(E(e)));a=this._getEventQueue(a.before,this.__dispatcher.order);return cd.apply(void 0,[a].concat(E(e)))&&(-1<Yc.indexOf(b)||this._eventProcessor.apply(this,[b,{sync:!0}].concat(E(e))))}},{key:"trigger",value:function(b){for(var a=this,d=arguments.length,e=Array(1<d?d-1:0),f=1;f<d;f++)e[f-1]=arguments[f];var g=this.events[b];if(J(g))return O.resolve(!0);d=this._getEventQueue(g.main,this.__dispatcher.order);return gc.apply(void 0,[d].concat(E(e))).then(function(){var b=a._getEventQueue(g.after,a.__dispatcher.order);return gc.apply(void 0,[b].concat(E(e)))}).then(function(){return a._runSideEffectEvent.apply(a,[b,a.__dispatcher.order].concat(E(e)))})["catch"](function(c){pb(c)&&a.__dispatcher.throwError(c);return a._runSideEffectEvent.apply(a,[b,a.__dispatcher.order].concat(E(e)))})}},{key:"triggerSync",value:function(b){var a=this.events[b];if(J(a))return!0;for(var d=this._getEventQueue(a.main,this.__dispatcher.order),e=this._getEventQueue(a.after,this.__dispatcher.order),f=arguments.length,a=Array(1<f?f-1:0),g=1;g<f;g++)a[g-1]=arguments[g];d=cd.apply(void 0,[d].concat(E(a)))&&cd.apply(void 0,[e].concat(E(a)));this._runSideEffectEvent.apply(this,[b,this.__dispatcher.order].concat(E(a)));return d}},{key:"destroy",value:function(){delete this.events;delete this.__dispatcher}},{key:"_addEvent",value:function(b,a){b=bd(b);var c=b.pop(),e=b.reduce(function(b,a){b[a]=b[a]||{};return b[a]},this.events);e[c]=e[c]||[];e[c].push(a)}},{key:"_removeEvent",value:function(b,a){b=bd(b);for(var c=b.pop(),e=this.events,f=0,g=b.length;f<g;f++)if(e=e[b[f]],J(e))return;var f=e[c]||[],g=f.indexOf(a),h=-1<g;h&&f.splice(g,1);1>f.length&&delete e[c];return h}},{key:"_addToOnceMap",value:function(b,a,d){b=b.join("-");b=this.onceMap[b]=this.onceMap[b]||new rj;b.has(a)||b.set(a,[]);b.get(a).push(d)}},{key:"_removeFromOnceMap",value:function(b,a,d){b=b.join("-");b=this.onceMap[b];var c=b.get(a);d=c.indexOf(d);c.splice(d,1);J(c)&&b["delete"](a)}},{key:"_getHandlerFromOnceMap",value:function(b,a){var c=b.join("-"),c=this.onceMap[c];if(!Oa(c)&&c.has(a))return c.get(a)[0]}},{key:"_getEventStage",value:function(b){var a=b.match(md),d=a&&a[0]||"main";a&&(b=cb(b.replace(md,"")));return{stage:d,key:b}}},{key:"_getEventQueue",value:function(b,a){var c=this;a=A(a)?a.concat(["_vm"]):["_vm"];return J(b)?[]:a.reduce(function(a,d){return J(b[d])||!A(b[d])||!c.__dispatcher.plugins[d]&&"_vm"!==d?a:a.concat(b[d].map(function(b){return db(b,c.__dispatcher.plugins[d]||c.__dispatcher.vm)}))},[])}},{key:"_eventProcessor",value:function(b,a){for(var c=a.sync,e=-1<Qf.indexOf(b),f=-1<Rf.indexOf(b),g=-1<uj.indexOf(b),h=arguments.length,k=Array(2<h?h-2:0),n=2;n<h;n++)k[n-2]=arguments[n];if(e||f||g){if(g){var t;(t=this.__dispatcher)[b].apply(t,E(k))}else{var p;(p=this.__dispatcher[e?"kernel":"dom"])[b].apply(p,E(k))}if(-1<ge.indexOf(b)||-1<lb.indexOf(b))return!0}return this[c?"triggerSync":"trigger"].apply(this,[b].concat(E(k)))}},{key:"_runSideEffectEvent",value:function(b,a){for(var c=arguments.length,e=Array(2<c?c-2:0),f=2;f<c;f++)e[f-2]=arguments[f];c=this.events[b];if(J(c))return!1;this._getEventQueue(c._,a).forEach(function(b){return b.apply(void 0,E(e))});return!0}}]);return a}(),tc(ia.prototype,"emit",[Xf],q(ia.prototype,"emit"),ia.prototype),tc(ia.prototype,"emitSync",[Yf],q(ia.prototype,"emitSync"),ia.prototype),tc(ia.prototype,"trigger",[Zf],q(ia.prototype,"trigger"),ia.prototype),tc(ia.prototype,"triggerSync",[$f],q(ia.prototype,"triggerSync"),ia.prototype),ia),ag=C.JSON||(C.JSON={stringify:JSON.stringify}),Pj=function(a){return ag.stringify.apply(ag,arguments)},Qj=r(function(a){a.exports={"default":Pj,__esModule:!0}}),bg=D(Qj);m(m.S,"Number",{isNaN:function(a){return a!=a}});var Rj=C.Number.isNaN,Sj=r(function(a){a.exports={"default":Rj,__esModule:!0}}),Jh=D(Sj),cg,dg,Ca,eg,fg,gg,hg,ig,jg,kg,Tj={src:[Be(),H({set:function(a){this.dispatcher.readySync&&this.autoload&&a!==this.src&&(this.needToLoadSrc=!0);return a}}),H({set:function(a){this.needToLoadSrc&&(this.needToLoadSrc=!1,this.dispatcher.bus.emit("load",a));return a}},{preSet:!1})],autoload:Ha(),autoplay:[Ha(),Ia("autoplay")],controls:[Ha(),Ia("controls")],width:[Ee("width")],height:[Ee("height")],crossOrigin:[H({set:De}),od({set:"crossorigin",get:"crossOrigin"})],loop:[Ha(),Ia("loop")],defaultMuted:[Ha(),od({get:"defaultMuted",set:"muted",isBoolean:!0})],muted:[Ha(),Ia("muted")],preload:[H({set:function(a){return-1<["none","auto","metadata",""].indexOf(a)?a:"none"}},{preSet:!0}),od("preload")],poster:[Be(),H({get:function(a){return this.dispatcher.videoConfigReady&&this.inited?this.dom.videoElement.poster:a},set:function(a){if(!this.dispatcher.videoConfigReady)return a;a.length&&this.dom.setAttr("video","poster",a);return a}})],playsInline:[H({get:function(a){var b=this.dom.videoElement.playsInline;return this.dispatcher.videoConfigReady&&this.inited?void 0===b?a:b:a},set:function(a){if(!this.dispatcher.videoConfigReady)return a;var b=(this.dom.videoElement.playsInline=a)?"":void 0;this.dom.setAttr("video","playsinline",b);this.dom.setAttr("video","webkit-playsinline",b);this.dom.setAttr("video","x5-playsinline",b);return a}}),Ha()],x5VideoPlayerFullscreen:[H({set:function(a){return!!a},get:function(a){return!!a}}),pd("x5-video-player-fullscreen",!0)],x5VideoOrientation:[H({set:De}),pd("x5-video-orientation")],x5VideoPlayerType:[H({set:function(a){if(!this.dispatcher.videoConfigReady)return a;this.dom.setAttr("video","x5-video-player-type","h5"===a?"h5":void 0);return a},get:function(){return this.dom.getAttr("video","x5-video-player-type")?"h5":void 0}})],xWebkitAirplay:[H({set:function(a){return!!a},get:function(a){return!!a}}),pd("x-webkit-airplay",!0)],playbackRate:[ld(1),Ia("playbackRate")],defaultPlaybackRate:[Ia("defaultPlaybackRate"),ld(1)],disableRemotePlayback:[Ha(),Ia("disableRemotePlayback")],volume:[ld(1),Ia("volume")]},lg=(cg=function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];var d=N(b[0])?b.shift():!1;b.unshift(function(b){return N(b)?b:d});return Ga.apply(void 0,b)}(),dg=function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];var d=u(b[0])?b.shift():"";b.unshift(function(b){return u(b)?b:d});return Ga.apply(void 0,b)}(function(a){return a.toLocaleLowerCase()}),Ca=function(){function a(b,c){ca(this,a);Sa(this,"needToLoadSrc",eg,this);Sa(this,"changeWatchable",fg,this);Sa(this,"inited",gg,this);this.src="";Sa(this,"isLive",hg,this);Sa(this,"box",ig,this);this.preset={};this.presetConfig={};this.autoload=!0;this.controls=this.autoplay=!1;this.height=this.width="100%";this.crossOrigin=void 0;this.muted=this.defaultMuted=this.loop=!1;this.preload="auto";this.poster=void 0;this.x5VideoPlayerFullscreen=this.playsInline=!1;this.x5VideoPlayerType=this.x5VideoOrientation=void 0;this.xWebkitAirplay=!1;this.defaultPlaybackRate=this.playbackRate=1;this.disableRemotePlayback=!1;this.volume=1;Sa(this,"_kernelProperty",jg,this);Sa(this,"_realDomAttr",kg,this);ka(this,Tj,{self:!0});Object.defineProperty(this,"dispatcher",{value:b,enumerable:!1,writable:!1,configurable:!1});Object.defineProperty(this,"dom",{value:b.dom,enumerable:!1,writable:!1,configurable:!1});Ea(this,c)}da(a,[{key:"init",value:function(){var b=this;this._realDomAttr.forEach(function(a){b[a]=b[a]});this.inited=!0}}]);return a}(),eg=Ta(Ca.prototype,"needToLoadSrc",[ba],{enumerable:!0,initializer:function(){return!1}}),fg=Ta(Ca.prototype,"changeWatchable",[ba],{enumerable:!0,initializer:function(){return!0}}),gg=Ta(Ca.prototype,"inited",[ba],{enumerable:!0,initializer:function(){return!1}}),hg=Ta(Ca.prototype,"isLive",[cg,Ae],{enumerable:!0,initializer:function(){return!1}}),ig=Ta(Ca.prototype,"box",[dg,Ae],{enumerable:!0,initializer:function(){return""}}),jg=Ta(Ca.prototype,"_kernelProperty",[W],{enumerable:!0,initializer:function(){return["isLive","box","preset","kernels","presetConfig"]}}),kg=Ta(Ca.prototype,"_realDomAttr",[W],{enumerable:!0,initializer:function(){return"src controls width height crossOrigin loop muted preload poster autoplay playsInline x5VideoPlayerFullscreen x5VideoOrientation xWebkitAirplay playbackRate defaultPlaybackRate autoload disableRemotePlayback defaultMuted volume x5VideoPlayerType".split(" ")}}),Ca),mg,ng,og,pg,qg,rg,sg,tg,ug,vg,wg,xg,yg,zg,Ag,Bg,Cg,Dg,Eg,Fg,v,Gg=(mg=xb(),ng=V("silentLoad"),og=V("fullScreen"),pg=V("$fullScreen"),qg=V("fullscreen"),rg=V("emit"),sg=V("emitSync"),tg=V("on"),ug=V("addEventListener"),vg=Z(nd),wg=V("off"),xg=V("removeEventListener"),yg=Z(nd),zg=V("once"),Ag=Z(nd),Bg=V("css"),Cg=Z(Ce),Dg=V("attr"),Eg=Z(Ce),mg(Fg=(v=function(){function a(){ca(this,a);this.__events={};this.__unwatchHandlers=[]}da(a,[{key:"__wrapAsVideo",value:function(b){var a=this;sj.forEach(function(b){T(a,b,{get:function(){return this.__dispatcher.dom.videoElement[b]},set:void 0,configurable:!1,enumerable:!1})});wj.forEach(function(b){T(a,b,{get:function(){var a=this.__dispatcher.dom.videoElement;return db(a[b],a)},set:void 0,configurable:!1,enumerable:!1})});var d=b._realDomAttr.concat(b._kernelProperty).reduce(function(a,c){a[c]=[H({get:function(){return b[c]},set:function(a){return b[c]=a}}),ba];return a},{});ka(this,d,{self:!0});Qf.forEach(function(b){T(a,b,{value:function(){for(var a=this,c=arguments.length,d=Array(c),e=0;e<c;e++)d[e]=arguments[e];return new O(function(c){var e;a.__dispatcher.bus.once(a.__id,"_"+b,c);(e=a.__dispatcher.bus)[/^(seek)$/.test(b)?"emitSync":"emit"].apply(e,[b].concat(E(d)))})},configurable:!0,enumerable:!1,writable:!0})});Rf.forEach(function(b){"fullscreen"!==b&&T(a,b,{value:function(){var a;return(a=this.__dispatcher.dom)[b].apply(a,arguments)},configurable:!0,enumerable:!1,writable:!0})})}},{key:"$watch",value:function(b,a){var c=this,e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},f=e.deep,g=e.diff,g=void 0===g?!0:g,h=e.other,e=e.proxy,e=void 0===e?!1:e;if(!u(b)&&!A(b))throw new TypeError("$watch only accept string and Array\x3cstring\x3e as key to find the target to spy on, but not "+b+", whose type is "+("undefined"===typeof b?"undefined":F(b)));var k=!0,n=function Qa(){k=!1;var b=c.__unwatchHandlers.indexOf(Qa);-1<b&&c.__unwatchHandlers.splice(b,1)},t=u(b)?b.split("."):b,p=t.pop(),l=this.__dispatcher.videoConfig,h=0===t.length&&!h&&-1<l._realDomAttr.indexOf(p)?l:-1<["isFullscreen","fullscreenElement"].indexOf(p)?this.__dispatcher.dom:ph(h||this,t,{throwError:!0});ka(h,yb({},p,Hh(function(){!k||this instanceof lg&&!this.dispatcher.changeWatchable||db(a,this).apply(void 0,arguments)},{deep:f,diff:g,proxy:e})),{self:!0});this.__unwatchHandlers.push(n);return n}},{key:"$set",value:function(b,a,d){if(!B(b)&&!A(b))throw new TypeError("$set only support Array or Object, but not "+b+", whose type is "+("undefined"===typeof b?"undefined":F(b)));l(b.__set)?b.__set(a,d):(z.warn("chimee",bg(b)+" has not been deep watch. There is no need to use $set."),b[a]=d)}},{key:"$del",value:function(b,a){if(!B(b)&&!A(b))throw new TypeError("$del only support Array or Object, but not "+b+", whose type is "+("undefined"===typeof b?"undefined":F(b)));l(b.__del)?b.__del(a):(z.warn("chimee",bg(b)+" has not been deep watch. There is no need to use $del."),delete b[a])}},{key:"load",value:function(){for(var b=this,a=arguments.length,d=Array(a),e=0;e<a;e++)d[e]=arguments[e];return new O(function(a){var c;b.__dispatcher.bus.once(b.__id,"_load",a);(c=b.__dispatcher.bus).emit.apply(c,["load"].concat(d))})}},{key:"$silentLoad",value:function(){for(var b=this,a=arguments.length,d=Array(a),e=0;e<a;e++)d[e]=arguments[e];return this.__dispatcher.bus.emit("silentLoad").then(function(){var a;return(a=b.__dispatcher).silentLoad.apply(a,d)}).then(function(a){b.__dispatcher.bus.trigger("silentLoad",a)})}},{key:"$fullscreen",value:function(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!0,a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"container";if(!this.__dispatcher.bus.emitSync("fullscreen",b,a))return!1;var d=this.__dispatcher.dom.fullscreen(b,a);this.__dispatcher.bus.triggerSync("fullscreen",b,a);return d}},{key:"$emit",value:function(b){var a;if(!u(b))throw new TypeError("emit key parameter must be String");-1<lb.indexOf(b.replace(/^\w_/,""))&&z.warn("plugin","You are try to emit "+b+" event. As emit is wrapped in Promise. It make you can't use event.preventDefault and event.stopPropagation. So we advice you to use emitSync");for(var d=arguments.length,e=Array(1<d?d-1:0),f=1;f<d;f++)e[f-1]=arguments[f];(a=this.__dispatcher.bus).emit.apply(a,[b].concat(E(e)))}},{key:"$emitSync",value:function(b){var a;if(!u(b))throw new TypeError("emitSync key parameter must be String");for(var d=arguments.length,e=Array(1<d?d-1:0),f=1;f<d;f++)e[f-1]=arguments[f];return(a=this.__dispatcher.bus).emitSync.apply(a,[b].concat(E(e)))}},{key:"$on",value:function(b,a){this.__dispatcher.bus.on(this.__id,b,a);this.__addEvents(b,a)}},{key:"$off",value:function(b,a){this.__dispatcher.bus.off(this.__id,b,a);this.__removeEvents(b,a)}},{key:"$once",value:function(b,a){var c=this,e=function g(){db(a,this).apply(void 0,arguments);c.__removeEvents(b,g)};c.__addEvents(b,e);this.__dispatcher.bus.once(this.__id,b,e)}},{key:"$css",value:function(a){for(var b,d=arguments.length,e=Array(1<d?d-1:0),f=1;f<d;f++)e[f-1]=arguments[f];return(b=this.__dispatcher.dom)[a+"Style"].apply(b,e)}},{key:"$attr",value:function(a){for(var b,d=arguments.length,e=Array(1<d?d-1:0),f=1;f<d;f++)e[f-1]=arguments[f];if("set"===a&&/video/.test(e[0])){if(!this.__dispatcher.videoConfigReady)return z.warn("chimee",this.__id+" is tring to set attribute on video before video inited. Please wait until the inited event has benn trigger"),e[2];if(-1<this.__dispatcher.videoConfig._realDomAttr.indexOf(e[1]))return b=e[2],this.__dispatcher.videoConfig[e[1]]=b}return(b=this.__dispatcher.dom)[a+"Attr"].apply(b,e)}},{key:"__addEvents",value:function(a,c){this.__events[a]=this.__events[a]||[];this.__events[a].push(c)}},{key:"__removeEvents",value:function(a,c){if(!J(this.__events[a])){var b=this.__events[a].indexOf(c);0>b||(this.__events[a].splice(b,1),J(this.__events[a])&&delete this.__events[a])}}},{key:"__destroy",value:function(){var a=this;this.__unwatchHandlers.forEach(function(a){return a()});ta(this.__events).forEach(function(b){A(a.__events[b])&&a.__events[b].forEach(function(c){return a.$off(b,c)})});delete this.__events}},{key:"currentTime",get:function(){return this.__dispatcher.kernel.currentTime},set:function(a){this.__dispatcher.bus.emitSync("seek",a)}},{key:"$plugins",get:function(){return this.__dispatcher.plugins}},{key:"$pluginOrder",get:function(){return this.__dispatcher.order}},{key:"$wrapper",get:function(){qd("wrapper");return this.__dispatcher.dom.wrapper}},{key:"$container",get:function(){qd("container");return this.__dispatcher.dom.container}},{key:"$video",get:function(){qd("video");return this.__dispatcher.dom.videoElement}},{key:"isFullscreen",get:function(){return this.__dispatcher.dom.isFullscreen}},{key:"fullscreenElement",get:function(){return this.__dispatcher.dom.fullscreenElement}},{key:"container",get:function(){return this.__dispatcher.containerConfig},set:function(a){if(!B(a))throw Error("The config of container must be Object, but not "+("undefined"===typeof a?"undefined":F(a))+".");Ea(this.__dispatcher.containerConfig,a);return this.__dispatcher.container}}]);return a}(),fa(v.prototype,"$silentLoad",[ng],q(v.prototype,"$silentLoad"),v.prototype),fa(v.prototype,"$fullscreen",[og,pg,qg],q(v.prototype,"$fullscreen"),v.prototype),fa(v.prototype,"$emit",[rg],q(v.prototype,"$emit"),v.prototype),fa(v.prototype,"$emitSync",[sg],q(v.prototype,"$emitSync"),v.prototype),fa(v.prototype,"$on",[tg,ug,vg],q(v.prototype,"$on"),v.prototype),fa(v.prototype,"$off",[wg,xg,yg],q(v.prototype,"$off"),v.prototype),fa(v.prototype,"$once",[zg,Ag],q(v.prototype,"$once"),v.prototype),fa(v.prototype,"$css",[Bg,Cg],q(v.prototype,"$css"),v.prototype),fa(v.prototype,"$attr",[Dg,Eg],q(v.prototype,"$attr"),v.prototype),fa(v.prototype,"$plugins",[ba],q(v.prototype,"$plugins"),v.prototype),fa(v.prototype,"$pluginOrder",[ba],q(v.prototype,"$pluginOrder"),v.prototype),fa(v.prototype,"$wrapper",[ba],q(v.prototype,"$wrapper"),v.prototype),fa(v.prototype,"$container",[ba],q(v.prototype,"$container"),v.prototype),fa(v.prototype,"$video",[ba],q(v.prototype,"$video"),v.prototype),v))||Fg),Hg,Ig,je=(Hg=xb(),Hg(Ig=function(a){function b(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},d=a.id,e=a.name,f=a.level,f=void 0===f?0:f,g=a.operable,g=void 0===g?!0:g,h=a.beforeCreate,k=a.create,n=a.init,t=a.inited,p=a.destroy,m=a.events,q=void 0===m?{}:m,m=a.data,m=void 0===m?{}:m,r=a.computed,v=void 0===r?{}:r,r=a.methods,x=void 0===r?{}:r,r=a.el,y=a.penetrate,y=void 0===y?!1:y,A=a.inner,A=void 0===A?!0:A,D=a.autoFocus,a=a.className,E=arguments[1],C=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{name:e};ca(this,b);var w=Lc(this,(b.__proto__||Ra(b)).call(this));w.destroyed=!1;w.VERSION="0.9.5";w.__operable=!0;w.__level=0;if(J(E))throw z.error("Dispatcher.plugin","lack of dispatcher. Do you forget to pass arguments to super in plugin?"),new TypeError("lack of dispatcher");if(!u(d))throw new TypeError("id of PluginConfig must be string");w.__id=d;w.__dispatcher=E;w.$videoConfig=w.__dispatcher.videoConfig;w.__wrapAsVideo(w.$videoConfig);w.beforeCreate=w.beforeCreate||h;try{l(w.beforeCreate)&&w.beforeCreate({events:q,data:m,computed:v,methods:x},C)}catch(id){w.$throwError(id)}!J(x)&&B(x)&&ta(x).forEach(function(a){var b=x[a];if(!l(b))throw new TypeError("plugins methods must be Function");T(w,a,{value:db(b,w),writable:!0,enumerable:!1,configurable:!0})});!J(q)&&B(q)&&ta(q).forEach(function(a){if(!l(q[a]))throw new TypeError("plugins events hook must bind with Function");w.$on(a,q[a])});!J(m)&&B(m)&&Ea(w,m);!J(v)&&B(v)&&(d=ta(v).reduce(function(a,b){var c=v[b];if(l(c))return a[b]=H({get:c}),a;if(B(c)&&(l(c.get)||l(c.set)))return a[b]=H(c),a;z.warn("Dispatcher.plugin","Wrong computed member '"+b+"' defination in Plugin "+e);return a},{}),ka(w,d,{self:!0}));w.create=w.create||k;w.init=w.init||n;w.inited=w.inited||t;w.destroy=w.destroy||p;w.$dom=w.__dispatcher.dom.insertPlugin(w.__id,r,{penetrate:y,inner:A,autoFocus:D,className:a});w.$inner=A;w.$autoFocus=D;w.$penetrate=y;ka(w,{$inner:W,$autoFocus:W,$penetrate:W},{self:!0});w.$operable=N(C.operable)?C.operable:g;w.__level=Ef(C.level)?C.level:f;w.$config=C;try{l(w.create)&&w.create()}catch(id){w.$throwError(id)}return w}Mc(b,a);da(b,[{key:"__init",value:function(a){try{l(this.init)&&this.init(a)}catch(d){this.$throwError(d)}}},{key:"__inited",value:function(){var a=this,b=void 0;try{b=l(this.inited)&&this.inited()}catch(e){this.$throwError(e)}this.ready=(this.readySync=!ob(b))?O.resolve():b.then(function(b){a.readySync=!0;return b})["catch"](function(b){return pb(b)?a.$throwError(b):O.reject(b)});return this.readySync||this.ready}},{key:"$bumpToTop",value:function(){this.$level=this.__dispatcher._getTopLevel(this.$inner)+1}},{key:"$throwError",value:function(a){this.__dispatcher.throwError(a)}},{key:"$destroy",value:function(){l(this.destroy)&&this.destroy();gf(b.prototype.__proto__||Ra(b.prototype),"__destroy",this).call(this);this.__dispatcher.dom.removePlugin(this.__id);delete this.__dispatcher;delete this.$dom;this.destroyed=!0}},{key:"$operable",set:function(a){N(a)&&(this.$dom.style.pointerEvents=a?"auto":"none",this.__operable=a)},get:function(){return this.__operable}},{key:"$level",set:function(a){Ef(a)&&(this.__level=a,this.__dispatcher._sortZIndex())},get:function(){return this.__level}}]);return b}(Gg))||Ig),Fe=" o ms moz webkit webkitCurrent".split(" "),sd=[["",""],["exit","cancel"],["screen","Screen"]],Jg={position:"fixed",zIndex:"2147483647",left:0,top:0,right:0,bottom:0,overflow:"hidden",width:"100%",height:"100%"},Uj=["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],Vj=["fullscreenerror","webkitfullscreenerror","mozfullscreenerror","MSFullscreenError"],wc="undefined"!==typeof document,Kg,Lg,Mg,Ng,Og,Pg,ja,Qg=vc("fullscreenEnabled"),ke=!1,Vb=new (Kg=xb(),Lg=V("requestFullscreen"),Mg=V("exitFullscreen"),Ng=V("addEventListener"),Og=V("removeEventListener"),Kg(Pg=(ja=function(){function a(){ca(this,a);this._fullscreenElement=null;this.isNativelySupport="undefined"!==typeof vc("fullscreenElement")&&("undefined"===typeof Qg||!0===Qg);this._openKey=wc?vc(document.body||document.documentElement,"requestFullscreen",{keyOnly:!0}):"";this._exitKey=vc("exitFullscreen",{keyOnly:!0});this.hasUsedStyle=this._useStyleFirst=!1}da(a,[{key:"open",value:function(a){var b=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).force,b=void 0===b?!1:b;if(!Y(a))throw Error("You should passed in a legal element to requestFullScreen, but not "+("undefined"===typeof a?"undefined":F(a))+".");if(!ad(document,a))throw Error("You must pass in a HTML element in document.");var d=this.fullscreenElement;if(d&&d!==a){if(!b)return xc(document,"fullscreenerror"),!1;this.exit()}if(!this.useStyleFirst){if(this.isNativelySupport)return l(a[this._openKey])&&a[this._openKey](),!0;if(a instanceof HTMLVideoElement&&a.webkitSupportsFullscreen&&l(a.webkitEnterFullscreen))return a.webkitEnterFullscreen(),this._fullscreenElement=a,!0}this._savedStyles=ta(Jg).reduce(function(b,c){b[c]=a.style[c];return b},{});rd(a,Jg);document.body&&(this._bodyOverflow=document.body.style.overflow,document.body.style.overflow="hidden");document.documentElement&&(this._htmlOverflow=document.documentElement.style.overflow,document.documentElement.style.overflow="hidden");this._fullscreenElement=a;this.hasUsedStyle=!0;xc(a,"fullscreenchange");return!0}},{key:"exit",value:function(){if(!this.isFullscreen)return!1;if(this.isNativelySupport&&!this.useStyleFirst&&!this.hasUsedStyle)return document[this._exitKey](),!0;var a=this._fullscreenElement;rd(a,this._savedStyles);document.body&&(document.body.style.overflow=this._bodyOverflow);document.documentElement&&(document.documentElement.style.overflow=this._htmlOverflow);this._fullscreenElement=null;this._savedStyles={};xc(a,"fullscreenchange");return!0}},{key:"on",value:function(a,c){this._handleEvent(2<arguments.length&&void 0!==arguments[2]?arguments[2]:document,"addEventListener",a,c)}},{key:"off",value:function(a,c){this._handleEvent(2<arguments.length&&void 0!==arguments[2]?arguments[2]:document,"removeEventListener",a,c)}},{key:"_handleEvent",value:function(a,c,d,e){if("fullscreenchange"!==d&&"fullscreenerror"!==d&&"esfullscreenmethodchange"!==d)throw Error(this.constructor.name+' only handle "fullscreenchange", "fullscreenerror" and "esfullscreenmethodchange" event, but not '+d+". Pleas pass in an right event name.");if(!l(e))throw Error("You must pass in an legal function, but not "+("undefined"===typeof e?"undefined":F(e))+".");if(!Y(a)&&a!==document)throw Error("You should passed in a legal element, but not "+("undefined"===typeof a?"undefined":F(a))+".");("fullscreenchange"===d?Uj:"fullscreenerror"===d?Vj:[d]).forEach(function(b){a[c](b,e)})}},{key:"useStyleFirst",get:function(){return ke},set:function(a){a=!!a;if(a===ke)return a;ke=a;xc(document,"esfullscreenmethodchange");return a}},{key:"fullscreenElement",get:function(){return["fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement"].reduce(function(a,c){return a||document[c]},null)||this._fullscreenElement}},{key:"isFullscreen",get:function(){return Y(this.fullscreenElement)}}]);return a}(),yc(ja.prototype,"open",[Lg],q(ja.prototype,"open"),ja.prototype),yc(ja.prototype,"exit",[Mg],q(ja.prototype,"exit"),ja.prototype),yc(ja.prototype,"on",[Ng],q(ja.prototype,"on"),ja.prototype),yc(ja.prototype,"off",[Og],q(ja.prototype,"off"),ja.prototype),ja))||Pg),Rg,Sg,Tg,Ug,Vg,Wg,K,Wj=(Rg=ye("__dispatcher.videoConfigReady"),Sg=Z(zc,Ab),Tg=Z(zc,Ab),Ug=Z(zc,Ab),Vg=Z(zc,Ab),Wg=Z(Ab),K=function(){function a(b,c){var d=this;ca(this,a);this.plugins={};this.originHTML="";this.videoEventHandlerList=[];this.videoDomEventHandlerList=[];this.containerDomEventHandlerList=[];this.wrapperDomEventHandlerList=[];this.__domEventHandlerList={};this.__mouseInVideo=!1;this.__videoExtendedNodes=[];this.isFullscreen=!1;this.fullscreenElement=void 0;this.__dispatcher=c;if(!Y(b)&&!u(b))throw new TypeError("Wrapper can only be string or HTMLElement, but not "+("undefined"===typeof b?"undefined":F(b)));var e=Fa(b);if(0===e.length)throw new TypeError("Can not get dom node accroding wrapper. Please check your wrapper");this.wrapper=e[0];this.originHTML=this.wrapper.innerHTML;(e=e.find("video")[0])||(e=document.createElement("video"));this.installVideo(e);this._addDomEvents(this.container,this.containerDomEventHandlerList,function(a){return function(){for(var b,c=arguments.length,e=Array(c),f=0;f<c;f++)e[f]=arguments[f];return(b=d.__dispatcher.bus).triggerSync.apply(b,["c_"+a].concat(E(e)))}});this._addDomEvents(this.wrapper,this.wrapperDomEventHandlerList,function(a){return function(){for(var b,c=arguments.length,e=Array(c),f=0;f<c;f++)e[f]=arguments[f];return(b=d.__dispatcher.bus).triggerSync.apply(b,["w_"+a].concat(E(e)))}});this._fullscreenMonitor();Vb.on("fullscreenchange",this._fullscreenMonitor)}da(a,[{key:"installVideo",value:function(a){var b=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).bindEvent,b=void 0===b?!0:b;this.__videoExtendedNodes.push(a);fd(a,"tabindex",-1);this._autoFocusToVideo(a);if(Y(this.container)){var d=this.container;0===d.childNodes.length?d.appendChild(a):d.insertBefore(a,d.childNodes[0])}else a.parentElement&&Y(a.parentElement)&&a.parentElement!==this.wrapper?this.container=a.parentElement:(this.container=document.createElement("container"),Fa(this.container).append(a));this.container.parentElement!==this.wrapper&&Fa(this.wrapper).append(this.container);b&&this.bindVideoEvents(a);return this.videoElement=a}},{key:"bindVideoEvents",value:function(a){var b=this;ge.forEach(function(c){var d=function(){for(var a,d=arguments.length,e=Array(d),k=0;k<d;k++)e[k]=arguments[k];return(a=b.__dispatcher.bus).trigger.apply(a,[c].concat(E(e)))};b.videoEventHandlerList.push(d);ra(a,c,d)});this._addDomEvents(a,this.videoDomEventHandlerList,function(a){return b._getEventHandler(a,{penetrate:!0})})}},{key:"removeVideo",value:function(){var a=this,c=this.videoElement;this._autoFocusToVideo(this.videoElement,!1);ge.forEach(function(b,c){R(a.videoElement,b,a.videoEventHandlerList[c])});this.videoEventHandlerList=[];lb.forEach(function(b,c){R(a.videoElement,b,a.videoDomEventHandlerList[c])});this.videoDomEventHandlerList=[];Fa(c).remove();delete this.videoElement;return c}},{key:"insertPlugin",value:function(a,c){var b=this,e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(!u(a))throw new TypeError("insertPlugin id parameter must be string");Y(this.plugins[a])&&(z.warn("Dispatcher.dom","Plugin "+a+" have already had a dom node. Now it will be replaced"),this.removePlugin(a));if(u(c))if(/<[^>]+?>/.test(c)){var f=document.createElement("div");f.innerHTML=c;c=f.children[0]}else c=document.createElement(oh(c));else B(c)&&(e=c);var g=e,f=g.inner,h=g.penetrate,g=g.autoFocus,k=e.className,e=c&&Y(c)?c:document.createElement("div");A(k)&&(k=k.join(" "));u(k)&&te(e,k);this.plugins[a]=e;var k=f?this.container:this.wrapper,n=f?this.videoElement:this.container;(N(g)?g:f)&&this._autoFocusToVideo(e);h&&(this.__domEventHandlerList[a]=this.__domEventHandlerList[a]||[],this._addDomEvents(e,this.__domEventHandlerList[a],function(a){return b._getEventHandler(a,{penetrate:h})}),this.__videoExtendedNodes.push(e));if(k.lastChild===n)return k.appendChild(e),e;k.insertBefore(e,n.nextSibling);return e}},{key:"removePlugin",value:function(a){var b=this;if(u(a)){var d=this.plugins[a];Y(d)&&(d.parentNode&&d.parentNode.removeChild(d),this._autoFocusToVideo(d,!0));J(this.__domEventHandlerList[a])||(lb.forEach(function(c,d){R(b.plugins[a],c,b.__domEventHandlerList[a][d])}),delete this.__domEventHandlerList[a]);delete this.plugins[a]}}},{key:"setPluginsZIndex",value:function(a){var b=this;a.forEach(function(a,c){return lc(a.match(/^(videoElement|container)$/)?b[a]:b.plugins[a],"z-index",++c)})}},{key:"setAttr",value:function(a,c,d){fd(this[a],c,d)}},{key:"getAttr",value:function(a,c){return this[a].getAttribute(c)}},{key:"setStyle",value:function(a,c,d){lc(this[a],c,d)}},{key:"getStyle",value:function(a,c){return ue(this[a],c)}},{key:"requestFullscreen",value:function(a){return Vb.open(this[a])}},{key:"exitFullscreen",value:function(){return Vb.exit()}},{key:"fullscreen",value:function(){for(var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!0,c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"container",d=arguments.length,e=Array(2<d?d-2:0),f=2;f<d;f++)e[f-2]=arguments[f];return a?this.requestFullscreen.apply(this,[c].concat(E(e))):this.exitFullscreen.apply(this,E(e))}},{key:"focus",value:function(){this.videoElement.focus()}},{key:"destroy",value:function(){var a=this;this.removeVideo();lb.forEach(function(b,d){R(a.container,b,a.containerDomEventHandlerList[d]);R(a.wrapper,b,a.wrapperDomEventHandlerList[d])});Vb.off("fullscreenchange",this._fullscreenMonitor);this.wrapper.innerHTML=this.originHTML;delete this.wrapper;delete this.plugins}},{key:"_addDomEvents",value:function(a,c,d){lb.forEach(function(b){var e=d(b);c.push(e);-1<tj.indexOf(b)?ra(a,b,e,!1,{passive:!0}):ra(a,b,e)})}},{key:"_autoFocusToVideo",value:function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1;Y(a)&&((b?R:ra)(a,"mouseup",this._focusToVideo,!1,!0),(b?R:ra)(a,"touchend",this._focusToVideo,!1,!0))}},{key:"_focusToVideo",value:function(){var a=window.scrollX,c=window.scrollY;l(this.videoElement.focus)&&this.videoElement.focus();window.scrollTo(a,c)}},{key:"_fullscreenMonitor",value:function(a){var b=Vb.fullscreenElement,d=this.isFullscreen;!b||!ad(this.wrapper,b)&&b!==this.wrapper?(this.isFullscreen=!1,this.fullscreenElement=void 0):(this.isFullscreen=!0,this.fullscreenElement=this.wrapper===b?"wrapper":this.container===b?"container":this.videoElement===b?"video":b);oe(a)&&d!==this.isFullscreen&&this.__dispatcher.bus.triggerSync("fullscreenchange",a)}},{key:"_getEventHandler",value:function(a,c){var b=this;if(!c.penetrate||0>["mouseenter","mouseleave"].indexOf(a))return function(){for(var c,d=arguments.length,e=Array(d),k=0;k<d;k++)e[k]=arguments[k];(c=b.__dispatcher.bus).triggerSync.apply(c,[a].concat(e))};var e=function(a){return-1<b.__videoExtendedNodes.indexOf(a)||b.__videoExtendedNodes.reduce(function(b,c){return b?b:ad(c,a)},!1)};return function(){for(var a=arguments.length,c=Array(a),d=0;d<a;d++)c[d]=arguments[d];var k=c[0],a=k.toElement,d=k.currentTarget,n=k.relatedTarget,k=k.type;if(b.__mouseInVideo&&"mouseleave"===k&&!e(a||n)){var m;b.__mouseInVideo=!1;return(m=b.__dispatcher.bus).triggerSync.apply(m,["mouseleave"].concat(c))}if(!b.__mouseInVideo&&"mouseenter"===k&&e(d)){var p;b.__mouseInVideo=!0;return(p=b.__dispatcher.bus).triggerSync.apply(p,["mouseenter"].concat(c))}}}}]);return a}(),Ua(K.prototype,"setAttr",[Rg,Sg],q(K.prototype,"setAttr"),K.prototype),Ua(K.prototype,"getAttr",[Tg],q(K.prototype,"getAttr"),K.prototype),Ua(K.prototype,"setStyle",[Ug],q(K.prototype,"setStyle"),K.prototype),Ua(K.prototype,"getStyle",[Vg],q(K.prototype,"getStyle"),K.prototype),Ua(K.prototype,"requestFullscreen",[Wg],q(K.prototype,"requestFullscreen"),K.prototype),Ua(K.prototype,"_focusToVideo",[qc],q(K.prototype,"_focusToVideo"),K.prototype),Ua(K.prototype,"_fullscreenMonitor",[qc],q(K.prototype,"_fullscreenMonitor"),K.prototype),K),Xj={width:"100%",height:"100%",position:"relative",display:"block"},Yj=function b(c,d,e){var f=this;ca(this,b);this.__dispatcher=c;this.__target=d;["width","height","position","display"].forEach(function(b){T(f,b,{get:function(){return this.__dispatcher.dom.getStyle(this.__target,b)},set:function(c){Pa(c)&&(c+="px");if(!u(c))throw Error("The value of "+b+" in "+this.__target+"Config must be string, but not "+("undefined"===typeof c?"undefined":F(c))+".");this.__dispatcher.dom.setStyle(this.__target,b,c)},configurable:!0,enumerable:!0})});Ea(this,e)},Xg,Yg,Zg,$g,ah,P,Wb={},ab={},Ma=(Xg=Z(Ac),Yg=Z(function(b){if(l(b)){if(!(b.prototype instanceof je))throw new TypeError("Your are trying to install plugin "+b.name+", but it's not extends from Chimee.plugin.");}else{if(!B(b)||J(b))throw new TypeError("plugin's config must be an Object, but not \""+b+'" in '+("undefined"===typeof b?"undefined":F(b)));b=b.name;if(!u(b)||1>b.length)throw new TypeError('plugin must have a legal namea, but not "'+b+'" in '+("undefined"===typeof b?"undefined":F(b)));}}),Zg=Z(Ac),$g=Z(Ac),ah=Z(Ac),P=function(){function b(c,d){var e=this;ca(this,b);this.plugins={};this.order=[];this.readySync=!1;this.zIndexMap={inner:[],outer:[]};this.changeWatchable=!0;this.kernelEventHandlerList=[];if(!B(c))throw new TypeError('UserConfig must be an Object, but not "'+c+'" in '+("undefined"===typeof c?"undefined":F(c)));this.dom=new Wj(c.wrapper,this);this.bus=new Oj(this);this.vm=d;this.videoConfigReady=!1;this.videoConfig=new lg(this,c);A(c.plugins)&&!A(c.plugin)&&(c.plugin=c.plugins,delete c.plugins);this._initUserPlugin(c.plugin);var f=Ea({},Xj,c.container||{});this.order.forEach(function(b){return e.plugins[b].__init(e.videoConfig,f)});this.videoConfigReady=!0;this.videoConfig.init();this.containerConfig=new Yj(this,"container",f);this.kernel=this._createKernel(this.dom.videoElement,this.videoConfig);this._bindKernelEvents(this.kernel);var g=[];this.order.forEach(function(b){b=e.plugins[b].__inited();ob(b)&&g.push(b)});this.ready=(this.readySync=0===g.length)?O.resolve():O.all(g).then(function(){e.readySync=!0;e.bus.trigger("ready");e._autoloadVideoSrcAtFirst()});this.readySync&&this._autoloadVideoSrcAtFirst()}da(b,[{key:"use",value:function(c){u(c)&&(c={name:c,alias:void 0});if(!B(c)||B(c)&&!u(c.name))throw new TypeError("pluginConfig do not match requirement");u(c.alias)||(c.alias=void 0);var d=c,e=d.name,f=d.alias;c.name=f||e;delete c.alias;d=cb(e);e=cb(f||e);f=b.getPluginConfig(d);if(J(f))throw new TypeError("You have not installed plugin "+d);B(f)&&(f.id=e);d=l(f)?new f({id:e},this,c):new je(f,this,c);this.plugins[e]=d;T(this.vm,e,{value:d,configurable:!0,enumerable:!1,writable:!1});this.order.push(e);this._sortZIndex();this.videoConfigReady&&d.__inited();return d.ready}},{key:"unuse",value:function(b){var c=this.plugins[b];B(c)&&l(c.$destroy)?(c.$destroy(),c=this.order.indexOf(b),-1<c&&this.order.splice(c,1),delete this.plugins[b],delete this.vm[b]):delete this.plugins[b]}},{key:"throwError",value:function(b){this.vm.__throwError(b)}},{key:"silentLoad",value:function(b){var c=this,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},f=e.duration,g=void 0===f?3:f,f=e.bias,h=void 0===f?0:f,f=e.repeatTimes,k=void 0===f?0:f,f=e.increment,n=void 0===f?0:f,f=e.isLive,m=void 0===f?this.videoConfig.isLive:f,f=e.box,p=e.kernels,l=e.preset,q=e.immediate||m,r={isLive:m,box:void 0===f?this.videoConfig.box:f,src:b,kernels:void 0===p?this.videoConfig.kernels:p,preset:void 0===l?this.videoConfig.preset:l},f=Array(k+1).fill(1).map(function(b,d){return function(){return new O(function(b,f){e.abort&&f({error:!0,message:"user abort the mission"});var l=document.createElement("video"),p=c.kernel.currentTime+g+n*d;l.muted=!0;var t=!1,w=void 0,u=void 0,v=void 0,x=void 0,y=function Zj(){var d=c.kernel.currentTime;if(0>=h&&d>=p||0<h&&(Math.abs(p-d)<=h&&t||d-p>h))return R(c.dom.videoElement,"timeupdate",Zj),R(l,"error",u,!0),t?f({error:!1,video:l,kernel:w}):(R(l,"canplay",v,!0),R(l,"loadedmetadata",x,!0),w.destroy(),b())},v=function(){t=!0;if(q)return R(c.dom.videoElement,"timeupdate",y),R(l,"error",u,!0),f({error:!1,video:l,kernel:w})},x=function(){m||w.seek(p)},u=function(e){R(l,"canplay",v,!0);R(l,"loadedmetadata",x,!0);R(c.dom.videoElement,"timeupdate",y);w.off("error",u);e.target===w?(e=e.data.errmsg,z.error("chimee's silentload bump into a kernel error",e),e=Error(e)):(e=J(l.error)?Error("unknow video error"):Error(l.error.message),z.error("chimee's silentload",e.message));w.destroy();c._silentLoadTempKernel=void 0;return d===k?f(e):b(e)};ra(l,"canplay",v,!0);ra(l,"loadedmetadata",x,!0);ra(l,"error",u,!0);w=c._createKernel(l,r);c._silentLoadTempKernel=w;w.on("error",u);ra(c.dom.videoElement,"timeupdate",y);w.load()})}});return gc(f).then(function(){var c="The silentLoad for "+b+" timed out. Please set a longer duration or check your network";z.warn("chimee's silentLoad",c);return O.reject(Error(c))})["catch"](function(b){if(pb(b))return O.reject(b);if(b.error)return z.warn("chimee's silentLoad",b.message),O.reject(Error(b.message));var d=b.video,f=b.kernel;return e.abort?(f.destroy(),O.reject(Error("user abort the mission"))):c.dom.videoElement.paused?(c.switchKernel({video:d,kernel:f,config:r}),O.resolve()):new O(function(b){ra(d,"play",function(){c.switchKernel({video:d,kernel:f,config:r});b()},!0);d.play()})})}},{key:"load",value:function(b){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},e=u(b)?b:B(b)&&u(b.src)?b.src:"";B(b)&&(delete b.src,c=b);var f=this.kernel.box,g=this.videoConfig,h=c,k=h.isLive,k=void 0===k?g.isLive:k,n=h.box,n=void 0===n?g.box:n,l=h.preset,l=void 0===l?g.preset:l,h=h.kernels,g=void 0===h?g.kernels:h;"native"===n&&n===f&&J(c)||(c=document.createElement("video"),f={isLive:k,box:n,preset:l,src:e,kernels:g},k=this._createKernel(c,f),this.switchKernel({video:c,kernel:k,config:f}));c=this.videoConfig.autoload;this._changeUnwatchable(this.videoConfig,"autoload",!1);this.videoConfig.src=e||this.videoConfig.src;this.kernel.load(this.videoConfig.src);this._changeUnwatchable(this.videoConfig,"autoload",c)}},{key:"switchKernel",value:function(b){var c=this,e=b.video,f=b.kernel;b=b.config;var g=this.kernel,h=bd(this.videoConfig);this.dom.removeVideo();this.dom.installVideo(e,{bindEvent:!1});this.videoConfig.changeWatchable=!1;this.videoConfig.autoload=!1;this.videoConfig.src=b.src;this.videoConfig._realDomAttr.forEach(function(b){"src"!==b&&(c.videoConfig[b]=h[b])});this.videoConfig.changeWatchable=!0;this._bindKernelEvents(g,!0);this._bindKernelEvents(f);this.kernel=f;this._silentLoadTempKernel=void 0;ic(this.videoConfig,{isLive:b.isLive,box:b.box,preset:b.preset,kernels:b.kernels});g.destroy();setTimeout(function(){return c.dom.bindVideoEvents(e)})}},{key:"destroy",value:function(){for(var b in this.plugins)this.unuse(b);this.bus.destroy();delete this.bus;this.dom.destroy();delete this.dom;this._bindKernelEvents(this.kernel,!0);this.kernel.destroy();delete this.kernel;delete this.vm;delete this.plugins;delete this.order}},{key:"_initUserPlugin",value:function(){var b=this,d=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];A(d)||(z.warn("Dispatcher",'UserConfig.plugin can only by an Array, but not "'+d+'" in '+("undefined"===typeof d?"undefined":F(d))),d=[]);return d.map(function(c){return b.use(c)})}},{key:"_sortZIndex",value:function(){var b=this,d=this.order.reduce(function(c,d){var e=b.plugins[d];if(J(e))return c;var f=c[e.$inner?"inner":"outer"],e=e.$level;f[e]=f[e]||[];f[e].push(d);return c},{inner:{},outer:{}}),e=d.inner,d=d.outer;e[0]=e[0]||[];e[0].unshift("videoElement");d[0]=d[0]||[];d[0].unshift("container");e=re(e);d=re(d);this.dom.setPluginsZIndex(e);this.dom.setPluginsZIndex(d);this.zIndexMap.inner=e;this.zIndexMap.outer=d}},{key:"_getTopLevel",value:function(b){b=this.zIndexMap[b?"inner":"outer"];b=this.plugins[b[b.length-1]];return J(b)?0:b.$level}},{key:"_autoloadVideoSrcAtFirst",value:function(){this.videoConfig.autoload&&(this.videoConfig.src?this.bus.emit("load",this.videoConfig.src):z.warn("You have not set the src, so you better set autoload to be false. Accroding to https://github.com/Chimeejs/chimee/blob/master/doc/zh-cn/chimee-api.md#src."))}},{key:"_changeUnwatchable",value:function(b,d,e){b[d]=e;this.changeWatchable=!0}},{key:"_createKernel",value:function(b,d){var c=d.kernels,f=d.preset;J(c)&&!J(f)&&z.warn("preset will be deprecated in next major version, please use kernels instead.");var g={},h={};A(c)&&(h=c.reduce(function(b,c){if(u(c)){var d=ab[c];if(!l(d))return z.warn("You have not installed kernel for "+c+"."),b;b[c]=d;return b}if(B(c)){var e=c.name,d=c.handler;if(u(d)){e=ab[d];if(!l(e))return z.warn("You have not installed kernel for "+d+"."),b;b[d]=e;g[d]=c;return b}if(l(d))return e=e||d.name,b[e]=d,g[e]=c,b;z.warn("When you pass in an SingleKernelConfig in Array, you must clarify it's handler, we only support handler in string or function but not "+("undefined"===typeof d?"undefined":F(d)));return b}z.warn("If you pass in kernels as array, you must pass in kernels in string or function, but not "+("undefined"===typeof c?"undefined":F(c)));return b},{}));B(c)&&ta(c).forEach(function(b){var d=c[b];if(l(d))h[b]=d;else if(B(d)){var e=d.handler;if(u(e)){var f=ab[e];l(f)?(h[b]=f,g[b]=d):z.warn("You have not installed kernel for "+e+".")}else l(e)?(h[b]=e,g[b]=d):z.warn("When you pass in an SingleKernelConfig in Object, you must clarify it's handler, we only support handler in string or function but not "+("undefined"===typeof e?"undefined":F(e)))}else return z.warn("If you pass in kernels as object, you must pass in kernels in string or function, but not "+("undefined"===typeof d?"undefined":F(d))),c});d.preset=ic(h,f);d.presetConfig=g;return new jj(b,d)}},{key:"_bindKernelEvents",value:function(b){var c=this,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1;vj.forEach(function(d,g){if(e)b.off(d,c.kernelEventHandlerList[g]);else{var f=function(){for(var b,e=arguments.length,f=Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=c.bus).triggerSync.apply(b,[d].concat(E(f)))};b.on(d,f);c.kernelEventHandlerList.push(f)}});if(e)this.kernelEventHandlerList=[],b.off("error",this.throwError);else b.on("error",this.throwError)}}],[{key:"install",value:function(b){var c=b.name,e=cb(c);J(Wb[e])||z.warn("Dispatcher","You have installed "+c+" again. And the older one will be replaced");b=l(b)?b:Ea({id:e},b);Wb[e]=b;return e}},{key:"hasInstalled",value:function(b){return!J(Wb[b])}},{key:"uninstall",value:function(b){delete Wb[b]}},{key:"getPluginConfig",value:function(b){return Wb[b]}},{key:"installKernel",value:function(b,d){(B(b)?Li(b):[[b,d]]).forEach(function(b){var c=xe(b,2);b=c[0];c=c[1];if(!l(c))throw Error("The kernel you install on "+b+" must be a Function, but not "+("undefined"===typeof c?"undefined":F(c)));l(ab[b])&&z.warn("You have alrady install a kernel on "+b+", and now we will replace it");ab[b]=c})}},{key:"uninstallKernel",value:function(b){delete ab[b]}},{key:"hasInstalledKernel",value:function(b){return l(ab[b])}}]);return b}(),fb(P.prototype,"unuse",[Xg],q(P.prototype,"unuse"),P.prototype),fb(P.prototype,"throwError",[qc],q(P.prototype,"throwError"),P.prototype),fb(P,"install",[Yg],q(P,"install"),P),fb(P,"hasInstalled",[Zg],q(P,"hasInstalled"),P),fb(P,"uninstall",[$g],q(P,"uninstall"),P),fb(P,"getPluginConfig",[ah],q(P,"getPluginConfig"),P),P),le,bb,ak=(le=function(){function b(){ca(this,b);this.log={error:!0,info:!0,warn:!0,debug:!0,verbose:!0};bb&&T(this,"_silent",{enumerable:bb.enumerable,configurable:bb.configurable,writable:bb.writable,value:bb.initializer?bb.initializer.call(this):void 0});this.errorHandler=void 0;var c=ta(this.log).reduce(function(b,c){b[c]=H({get:function(){return z["ENABLE_"+c.toUpperCase()]},set:function(b){z["ENABLE_"+c.toUpperCase()]=b;!0===b&&(this.silent=!1);return b}});return b},{});ka(this.log,c,{self:!0})}da(b,[{key:"silent",get:function(){return this._silent},set:function(b){var c=this;this._silent=b=!!b;ta(this.log).forEach(function(d){c.log[d]=!b})}}]);return b}(),bb=function(b,c,d,e,f){var g={};Object.keys(e).forEach(function(b){g[b]=e[b]});g.enumerable=!!g.enumerable;g.configurable=!!g.configurable;if("value"in g||g.initializer)g.writable=!0;g=d.slice().reverse().reduce(function(d,e){return e(b,c,d)||d},g);f&&void 0!==g.initializer&&(g.value=g.initializer?g.initializer.call(f):void 0,g.initializer=void 0);void 0===g.initializer&&(Object.defineProperty(b,c,g),g=null);return g}(le.prototype,"_silent",[ba],{enumerable:!0,initializer:function(){return!1}}),le),Da=r(function(b){b=b.exports="undefined"!=typeof window&&Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=b)}),mb=r(function(b){b=b.exports={version:"2.5.3"};"number"==typeof __e&&(__e=b)}),nb=function(b){return"object"===typeof b?null!==b:"function"===typeof b},bh=function(b){if(!nb(b))throw TypeError(b+" is not an object!");return b},ch=function(b){try{return!!b()}catch(c){return!0}},me=!ch(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),ne=Da.document,bk=nb(ne)&&nb(ne.createElement),ck=!me&&!ch(function(){return 7!=Object.defineProperty(bk?ne.createElement("div"):{},"a",{get:function(){return 7}}).a}),dk=Object.defineProperty,ek={f:me?Object.defineProperty:function(b,c,d){bh(b);if(nb(c)){var e,f;if("function"==typeof(e=c.toString)&&!nb(f=e.call(c))||"function"==typeof(e=c.valueOf)&&!nb(f=e.call(c)))c=f;else throw TypeError("Can't convert object to primitive value");}bh(d);if(ck)try{return dk(b,c,d)}catch(g){}if("get"in d||"set"in d)throw TypeError("Accessors not supported!");"value"in d&&(b[c]=d.value);return b}},Xb=me?function(b,c,d){return ek.f(b,c,{enumerable:!1,configurable:!0,writable:!0,value:d})}:function(b,c,d){b[c]=d;return b},dh={}.hasOwnProperty,fk=0,gk=Math.random(),hk=function(b){return"Symbol(".concat(void 0===b?"":b,")_",(++fk+gk).toString(36))},ik=r(function(b){var c=hk("src"),d=Function.toString,e=(""+d).split("toString");mb.inspectSource=function(b){return d.call(b)};(b.exports=function(b,d,h,k){var f="function"==typeof h;f&&(dh.call(h,"name")||Xb(h,"name",d));b[d]!==h&&(f&&(dh.call(h,c)||Xb(h,c,b[d]?""+b[d]:e.join(String(d)))),b===Da?b[d]=h:k?b[d]?b[d]=h:Xb(b,d,h):(delete b[d],Xb(b,d,h)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[c]||d.call(this)})}),jk=function(b){if("function"!=typeof b)throw TypeError(b+" is not a function!");return b},eh=function(b,c,d){jk(b);if(void 0===c)return b;switch(d){case 1:return function(d){return b.call(c,d)};case 2:return function(d,f){return b.call(c,d,f)};case 3:return function(d,f,g){return b.call(c,d,f,g)}}return function(){return b.apply(c,arguments)}},ea=function(b,c,d){var e=b&ea.F,f=b&ea.G,g=b&ea.S,h=b&ea.P,k=b&ea.B,g=f?Da:g?Da[c]||(Da[c]={}):(Da[c]||{}).prototype,l=f?mb:mb[c]||(mb[c]={}),m=l.prototype||(l.prototype={}),p;f&&(d=c);for(p in d)f=!e&&g&&void 0!==g[p],c=(f?g:d)[p],f=k&&f?eh(c,Da):h&&"function"==typeof c?eh(Function.call,c):c,g&&ik(g,p,c,b&ea.U),l[p]!=c&&Xb(l,p,f),h&&m[p]!=c&&(m[p]=c)};Da.core=mb;ea.F=1;ea.G=2;ea.S=4;ea.P=8;ea.B=16;ea.W=32;ea.U=64;ea.R=128;var fh=ea;fh(fh.G,{global:Da});var gh=mb.global,hh,ih,G,jh,kh,lh,Yb,Zb,$b,ac,bc,cc,dc,ec,fc,ya,mh;return hh=xb(),hh(ih=(G=(mh=ya=function(b){function c(b){ca(this,c);var d=Lc(this,(c.__proto__||Ra(c)).call(this));d.destroyed=!1;td(d,"__id",jh,d);td(d,"version",kh,d);td(d,"config",lh,d);gh.Object.defineProperty||z.error("Chimee","We detect that this browser lack of Object.defineProperty. Chimee can't run on this browser");gh.Promise||z.error("Chimee","We detect that this browser lack of Promise. If you are running Chimee in old browser. Please make sure you have import polyfill such as babel-polyfill.");if(u(b)||Y(b))b={wrapper:b,controls:!0};else if(B(b)){if(!b.wrapper)throw Error("You must pass in an legal object");}else throw Error("You must pass in an Object containing wrapper or string or element to new a Chimee");d.__dispatcher=new Ma(b,d);d.ready=d.__dispatcher.ready;d.readySync=d.__dispatcher.readySync;d.__wrapAsVideo(d.__dispatcher.videoConfig);return d}Mc(c,b);da(c,[{key:"destroy",value:function(){gf(c.prototype.__proto__||Ra(c.prototype),"__destroy",this).call(this);this.__dispatcher.destroy();Object.defineProperty(this,"__dispatcher",{get:function(){throw Error("This instance has been destroyed.");},enumerable:!0,configurable:!0});this.destroyed=!0}},{key:"use",value:function(b){this.__dispatcher.use(b)}},{key:"unuse",value:function(b){this.__dispatcher.unuse(b)}},{key:"__throwError",value:function(b){u(b)&&(b=Error(b));var d=this.config.errorHandler||c.config.errorHandler;if(l(d))return d(b);if(!c.config.silent){if(pb(b))throw b;console.error(b)}}}]);return c}(Gg),ya.plugin=je,ya.config=new ak,ya.install=Ma.install,ya.uninstall=Ma.uninstall,ya.hasInstalled=Ma.hasInstalled,ya.installKernel=Ma.installKernel,ya.uninstallKernel=Ma.uninstallKernel,ya.hasInstalledKernel=Ma.hasInstalledKernel,ya.getPluginConfig=Ma.getPluginConfig,mh),jh=la(G.prototype,"__id",[W],{enumerable:!0,initializer:function(){return"_vm"}}),kh=la(G.prototype,"version",[W],{enumerable:!0,initializer:function(){return"0.9.5"}}),lh=la(G.prototype,"config",[W],{enumerable:!0,initializer:function(){return{errorHandler:void 0}}}),la(G,"plugin",[W],(Yb=q(G,"plugin"),Yb=Yb?Yb.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return Yb}}),G),la(G,"config",[W],(Zb=q(G,"config"),Zb=Zb?Zb.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return Zb}}),G),la(G,"install",[W],($b=q(G,"install"),$b=$b?$b.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return $b}}),G),la(G,"uninstall",[W],(ac=q(G,"uninstall"),ac=ac?ac.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return ac}}),G),la(G,"hasInstalled",[W],(bc=q(G,"hasInstalled"),bc=bc?bc.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return bc}}),G),la(G,"installKernel",[W],(cc=q(G,"installKernel"),cc=cc?cc.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return cc}}),G),la(G,"uninstallKernel",[W],(dc=q(G,"uninstallKernel"),dc=dc?dc.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return dc}}),G),la(G,"hasInstalledKernel",[W],(ec=q(G,"hasInstalledKernel"),ec=ec?ec.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return ec}}),G),la(G,"getPluginConfig",[W],(fc=q(G,"getPluginConfig"),fc=fc?fc.value:void 0,{enumerable:!0,configurable:!0,writable:!0,initializer:function(){return fc}}),G),G))||ih});